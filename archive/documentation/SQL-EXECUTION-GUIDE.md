# üìã –†–£–ö–û–í–û–î–°–¢–í–û –ü–û –í–´–ü–û–õ–ù–ï–ù–ò–Æ SQL –°–ö–†–ò–ü–¢–û–í

**–¶–µ–ª—å:** –í—ã–ø–æ–ª–Ω–∏—Ç—å –§–ê–ó–£ 1 –º–∞—Å—Ç–µ—Ä –ø–ª–∞–Ω–∞ - –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ —Ç–æ–≤–∞—Ä—ã –∫–∞—Ç–∞–ª–æ–≥–∞  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 30 –º–∏–Ω—É—Ç  
**–ì–¥–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å:** Supabase Dashboard > SQL Editor

---

## üöÄ **–ü–û–†–Ø–î–û–ö –í–´–ü–û–õ–ù–ï–ù–ò–Ø**

### **üìã –°–ö–†–ò–ü–¢ 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞**
**–§–∞–π–ª:** `sql-1-add-supplier-fields.sql`  
**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** –î–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª—è `supplier_id`, `supplier_type`, `supplier_data` –≤ —Ç–∞–±–ª–∏—Ü—É `projects`

```sql
-- –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ sql-1-add-supplier-fields.sql
-- –í—Å—Ç–∞–≤–∏—Ç—å –≤ Supabase SQL Editor
-- –ù–∞–∂–∞—Ç—å Run
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úÖ –£–°–ü–ï–•: –ü–æ–ª—è –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Ç–∞–±–ª–∏—Ü—É projects
```

---

### **üîç –°–ö–†–ò–ü–¢ 2: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ –∫–∞—Ç–∞–ª–æ–≥–∞**
**–§–∞–π–ª:** `sql-2-diagnose-products.sql`  
**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü –∫–∞—Ç–∞–ª–æ–≥–∞ –∏ –≤—ã—è–≤–ª—è–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã

```sql
-- –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ sql-2-diagnose-products.sql
-- –í—Å—Ç–∞–≤–∏—Ç—å –≤ Supabase SQL Editor  
-- –ù–∞–∂–∞—Ç—å Run
```

**–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- ‚úÖ –ï—Å–ª–∏ —Ç–æ–≤–∞—Ä—ã –Ω–∞–π–¥–µ–Ω—ã: `‚úÖ –¢–û–í–ê–†–´ –í –ö–ê–¢–ê–õ–û–ì–ï –ù–ê–ô–î–ï–ù–´`
- ‚ùå –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞: `‚ùå –ö–†–ò–¢–ò–ß–ù–û: –¢–∞–±–ª–∏—Ü–∞ catalog_user_products –ø—É—Å—Ç–∞—è`

---

### **üõ†Ô∏è –°–ö–†–ò–ü–¢ 3: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ (–¢–û–õ–¨–ö–û –ï–°–õ–ò –ù–£–ñ–ù–û)**
**–§–∞–π–ª:** `sql-3-fix-products-data.sql`  
**–ö–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è—Ç—å:** –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –°–ö–†–ò–ü–¢ 2 –ø–æ–∫–∞–∑–∞–ª –ø—Ä–æ–±–ª–µ–º—ã —Å —Ç–æ–≤–∞—Ä–∞–º–∏

```sql
-- –í–´–ü–û–õ–ù–Ø–¢–¨ –¢–û–õ–¨–ö–û –ï–°–õ–ò –í –°–ö–†–ò–ü–¢–ï 2 –ë–´–õ–ê –û–®–ò–ë–ö–ê!
-- –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ sql-3-fix-products-data.sql
-- –í—Å—Ç–∞–≤–∏—Ç—å –≤ Supabase SQL Editor
-- –ù–∞–∂–∞—Ç—å Run
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úÖ –¢–û–í–ê–†–´ –î–û–ë–ê–í–õ–ï–ù–´ –ò –ò–°–ü–†–ê–í–õ–ï–ù–´
```

---

### **‚úÖ –°–ö–†–ò–ü–¢ 4: –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç —ç—Ö–æ –∫–∞—Ä—Ç–æ—á–µ–∫**
**–§–∞–π–ª:** `sql-4-test-echo-cards.sql`  
**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã –∏ —Å–æ–∑–¥–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

```sql
-- –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ sql-4-test-echo-cards.sql
-- –í—Å—Ç–∞–≤–∏—Ç—å –≤ Supabase SQL Editor
-- –ù–∞–∂–∞—Ç—å Run
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úÖ –í–°–ï –ì–û–¢–û–í–û! API –≠–•–û –ö–ê–†–¢–û–ß–ï–ö –ú–û–ñ–ï–¢ –†–ê–ë–û–¢–ê–¢–¨
üéâ –§–ê–ó–ê 1 –ó–ê–í–ï–†–®–ï–ù–ê!
```

---

## üéØ **–ü–û–°–õ–ï –í–´–ü–û–õ–ù–ï–ù–ò–Ø –í–°–ï–• –°–ö–†–ò–ü–¢–û–í**

### **üîÑ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï API:**

1. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API —ç—Ö–æ –∫–∞—Ä—Ç–æ—á–µ–∫:**
   ```bash
   curl "http://localhost:3000/api/catalog/echo-cards?user_id=YOUR_USER_ID"
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤:**
   ```bash
   curl "http://localhost:3000/api/catalog/products?supplier_id=SUPPLIER_ID&supplier_type=user"
   ```

3. **–û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ç–∞–ª–æ–≥ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
   ```
   http://localhost:3000/dashboard/catalog
   ```

### **‚úÖ –ö–†–ò–¢–ï–†–ò–ò –£–°–ü–ï–•–ê:**
- [ ] API —ç—Ö–æ –∫–∞—Ä—Ç–æ—á–µ–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –¢–æ–≤–∞—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –ø—Ä–æ—Ñ–∏–ª–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞  
- [ ] –í —Ç–∞–±–ª–∏—Ü–µ `projects` –µ—Å—Ç—å –ø–æ–ª—è `supplier_id`, `supplier_type`, `supplier_data`
- [ ] –ö–∞—Ç–∞–ª–æ–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

---

## üö® **–í–û–ó–ú–û–ñ–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –ò –†–ï–®–ï–ù–ò–Ø**

### **–û—à–∏–±–∫–∞: "column already exists"**
**–†–µ—à–µ–Ω–∏–µ:** –ù–æ—Ä–º–∞–ª—å–Ω–æ - –ø–æ–ª–µ —É–∂–µ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ —Ä–∞–Ω–µ–µ

### **–û—à–∏–±–∫–∞: "relation does not exist"**  
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ç–∞–±–ª–∏—Ü—ã –∫–∞—Ç–∞–ª–æ–≥–∞ —Å–æ–∑–¥–∞–Ω—ã:
```sql
SELECT table_name FROM information_schema.tables 
WHERE table_name LIKE 'catalog_%';
```

### **–û—à–∏–±–∫–∞: "permission denied"**
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç–µ –≤ Supabase SQL Editor –ø–æ–¥ admin –ø—Ä–∞–≤–∞–º–∏

---

## üìû **–ü–û–î–î–ï–†–ñ–ö–ê**

**–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏
2. –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–∞–∂–¥–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞  
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –ø–æ –ø–æ—Ä—è–¥–∫—É

---

## üéâ **–†–ï–ó–£–õ–¨–¢–ê–¢**

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤:

### **‚úÖ –ß–¢–û –ë–£–î–ï–¢ –†–ê–ë–û–¢–ê–¢–¨:**
- üîÆ API —ç—Ö–æ –∫–∞—Ä—Ç–æ—á–µ–∫ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- üì¶ –¢–æ–≤–∞—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
- üîó –ü—Ä–æ–µ–∫—Ç—ã –≥–æ—Ç–æ–≤—ã –∫ —Å–≤—è–∑–∏ —Å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏
- üéØ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –∫ –§–ê–ó–ï 2

### **üöÄ –°–õ–ï–î–£–Æ–©–ò–ô –≠–¢–ê–ü:**
**–§–ê–ó–ê 2:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–∞—Ç–∞–ª–æ–≥–∞ —Å–æ Step2SpecificationForm

**–ì–æ—Ç–æ–≤—ã –Ω–∞—á–∏–Ω–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ? –ù–∞—á–Ω–∏—Ç–µ —Å–æ –°–ö–†–ò–ü–¢–ê 1! üöÄ** 