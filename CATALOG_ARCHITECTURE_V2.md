# üè™ –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ö–ê–¢–ê–õ–û–ì–ê –ü–û–°–¢–ê–í–©–ò–ö–û–í V2.0

## üö® **–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –û–ë–ù–û–í–õ–ï–ù–ò–ï –ê–†–•–ò–¢–ï–ö–¢–£–†–´**
**–î–∞—Ç–∞: 29 –¥–µ–∫–∞–±—Ä—è 2024**  
**–ü—Ä–∏—á–∏–Ω–∞: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–π –æ—à–∏–±–∫–∏ —Å –æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ–π**

---

## ‚ùå **–ü–†–û–ë–õ–ï–ú–ê –¢–ï–ö–£–©–ï–ô –ê–†–•–ò–¢–ï–ö–¢–£–†–´ V1.0**

### **–ß—Ç–æ –±—ã–ª–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
- ‚ò†Ô∏è **–û–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞** `catalog_suppliers` –¥–ª—è –¥–≤—É—Ö —Ä–∞–∑–Ω—ã—Ö —Ü–µ–ª–µ–π
- ‚ò†Ô∏è **–°–º–µ—à–∏–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
- ‚ò†Ô∏è **–ü—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≤–∏–¥–µ—Ç—å —á—É–∂–∏–µ –¥–∞–Ω–Ω—ã–µ
- ‚ò†Ô∏è **–°–ª–æ–∂–Ω–æ—Å—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è** - –Ω–µ—Ç —á–µ—Ç–∫–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- ‚ò†Ô∏è **–ü—É—Ç–∞–Ω–∏—Ü–∞ –≤ RLS –ø–æ–ª–∏—Ç–∏–∫–∞—Ö** - –æ–¥–Ω–∏ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö

---

## ‚úÖ **–ù–û–í–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê V2.0**

### üéØ **–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**
1. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏** - –∫–∞–∂–¥–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è —Å–≤–æ–µ–π —Ü–µ–ª–∏
2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö** - —á–µ—Ç–∫–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã –¥–æ—Å—Ç—É–ø–∞
3. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
4. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –ø–æ–Ω–∏–º–∞–Ω–∏—è** - –ª–æ–≥–∏—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

---

## üóÇÔ∏è **–ù–û–í–ê–Ø –°–¢–†–£–ö–¢–£–†–ê –ë–ê–ó–´ –î–ê–ù–ù–´–•**

### üìä **–¢–∞–±–ª–∏—Ü–∞ 1: –ê–∫–∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏ Get2B**
```sql
-- üß° –û–†–ê–ù–ñ–ï–í–ê–Ø –°–¢–û–†–û–ù–ê - —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –¢–û–õ–¨–ö–û –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º–∏
CREATE TABLE catalog_verified_suppliers (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  
  -- –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
  name text NOT NULL,
  company_name text NOT NULL,
  category text NOT NULL,
  country text NOT NULL,
  city text,
  description text,
  logo_url text,
  
  -- –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
  contact_email text,
  contact_phone text,
  website text,
  contact_person text,
  
  -- –ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ñ–∏–ª—å
  min_order text,
  response_time text,
  employees text,
  established text,
  certifications jsonb,
  specialties jsonb,
  payment_methods jsonb,
  
  -- –ú–µ–Ω–µ–¥–∂–µ—Ä—Å–∫–∏–µ –ø–æ–ª—è
  verified_by uuid REFERENCES auth.users(id), -- ID –º–µ–Ω–µ–¥–∂–µ—Ä–∞
  is_featured boolean DEFAULT false,
  display_order integer DEFAULT 0,
  internal_notes text, -- –∑–∞–º–µ—Ç–∫–∏ –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
  
  -- –ü—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
  rating decimal(3,2) DEFAULT 0,
  reviews_count integer DEFAULT 0,
  projects_count integer DEFAULT 0,
  
  -- –°—Ç–∞—Ç—É—Å
  is_active boolean DEFAULT true,
  
  -- –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏
  created_at timestamptz DEFAULT now(),
  updated_at timestamptz DEFAULT now(),
  
  -- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
  CONSTRAINT valid_rating CHECK (rating >= 0 AND rating <= 5),
  CONSTRAINT valid_category CHECK (category IN ('–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞', '–¢–µ–∫—Å—Ç–∏–ª—å –∏ –æ–¥–µ–∂–¥–∞', '–ö—Ä–∞—Å–æ—Ç–∞ –∏ –∑–¥–æ—Ä–æ–≤—å–µ', '–ê–≤—Ç–æ—Ç–æ–≤–∞—Ä—ã', '–°–ø–æ—Ä—Ç –∏ –æ—Ç–¥—ã—Ö'))
);

-- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
CREATE INDEX idx_verified_suppliers_category ON catalog_verified_suppliers(category);
CREATE INDEX idx_verified_suppliers_country ON catalog_verified_suppliers(country);
CREATE INDEX idx_verified_suppliers_active ON catalog_verified_suppliers(is_active);
CREATE INDEX idx_verified_suppliers_featured ON catalog_verified_suppliers(is_featured);
```

### üìä **–¢–∞–±–ª–∏—Ü–∞ 2: –õ–∏—á–Ω—ã–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**
```sql
-- üîµ –°–ò–ù–Ø–Ø –°–¢–û–†–û–ù–ê - —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
CREATE TABLE catalog_user_suppliers (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id uuid NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
  
  -- –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
  name text NOT NULL,
  company_name text NOT NULL,
  category text NOT NULL,
  country text NOT NULL,
  city text,
  description text,
  logo_url text,
  
  -- –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
  contact_email text,
  contact_phone text,
  website text,
  contact_person text,
  
  -- –ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ñ–∏–ª—å
  min_order text,
  response_time text,
  employees text,
  established text,
  certifications jsonb,
  specialties jsonb,
  payment_methods jsonb,
  
  -- –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö
  source_type text NOT NULL DEFAULT 'user_added', -- 'user_added' | 'imported_from_catalog'
  source_supplier_id uuid REFERENCES catalog_verified_suppliers(id), -- –µ—Å–ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω
  import_date timestamptz, -- –∫–æ–≥–¥–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω
  
  -- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
  user_notes text, -- –ª–∏—á–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  user_rating integer CHECK (user_rating >= 1 AND user_rating <= 5),
  last_project_date timestamptz,
  total_projects integer DEFAULT 0,
  
  -- –°—Ç–∞—Ç—É—Å
  is_active boolean DEFAULT true,
  
  -- –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏
  created_at timestamptz DEFAULT now(),
  updated_at timestamptz DEFAULT now(),
  
  -- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
  CONSTRAINT valid_source_type CHECK (source_type IN ('user_added', 'imported_from_catalog')),
  CONSTRAINT valid_category CHECK (category IN ('–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞', '–¢–µ–∫—Å—Ç–∏–ª—å –∏ –æ–¥–µ–∂–¥–∞', '–ö—Ä–∞—Å–æ—Ç–∞ –∏ –∑–¥–æ—Ä–æ–≤—å–µ', '–ê–≤—Ç–æ—Ç–æ–≤–∞—Ä—ã', '–°–ø–æ—Ä—Ç –∏ –æ—Ç–¥—ã—Ö'))
);

-- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
CREATE INDEX idx_user_suppliers_user_id ON catalog_user_suppliers(user_id);
CREATE INDEX idx_user_suppliers_category ON catalog_user_suppliers(category);
CREATE INDEX idx_user_suppliers_source ON catalog_user_suppliers(source_type);
CREATE INDEX idx_user_suppliers_active ON catalog_user_suppliers(is_active);
```

### üìä **–¢–∞–±–ª–∏—Ü–∞ 3: –¢–æ–≤–∞—Ä—ã –∞–∫–∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤**
```sql
-- –¢–æ–≤–∞—Ä—ã –¥–ª—è –æ—Ä–∞–Ω–∂–µ–≤–æ–π —Å—Ç–æ—Ä–æ–Ω—ã
CREATE TABLE catalog_verified_products (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  supplier_id uuid NOT NULL REFERENCES catalog_verified_suppliers(id) ON DELETE CASCADE,
  
  name text NOT NULL,
  description text,
  category text NOT NULL,
  price decimal(12,2),
  currency text DEFAULT 'USD',
  min_order text,
  images jsonb, -- –º–∞—Å—Å–∏–≤ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  specifications jsonb,
  in_stock boolean DEFAULT true,
  sku text,
  
  -- –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏
  created_at timestamptz DEFAULT now(),
  updated_at timestamptz DEFAULT now()
);

CREATE INDEX idx_verified_products_supplier ON catalog_verified_products(supplier_id);
CREATE INDEX idx_verified_products_category ON catalog_verified_products(category);
CREATE INDEX idx_verified_products_stock ON catalog_verified_products(in_stock);
```

### üìä **–¢–∞–±–ª–∏—Ü–∞ 4: –¢–æ–≤–∞—Ä—ã –ª–∏—á–Ω—ã—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤**
```sql
-- –¢–æ–≤–∞—Ä—ã –¥–ª—è —Å–∏–Ω–µ–π —Å—Ç–æ—Ä–æ–Ω—ã
CREATE TABLE catalog_user_products (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  supplier_id uuid NOT NULL REFERENCES catalog_user_suppliers(id) ON DELETE CASCADE,
  user_id uuid NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
  
  name text NOT NULL,
  description text,
  category text NOT NULL,
  price decimal(12,2),
  currency text DEFAULT 'USD',
  min_order text,
  images jsonb, -- –º–∞—Å—Å–∏–≤ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  specifications jsonb,
  in_stock boolean DEFAULT true,
  sku text,
  
  -- –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏
  created_at timestamptz DEFAULT now(),
  updated_at timestamptz DEFAULT now()
);

CREATE INDEX idx_user_products_supplier ON catalog_user_products(supplier_id);
CREATE INDEX idx_user_products_user ON catalog_user_products(user_id);
CREATE INDEX idx_user_products_category ON catalog_user_products(category);
```

---

## üîê **RLS –ü–û–õ–ò–¢–ò–ö–ò –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò**

### üß° **–î–ª—è catalog_verified_suppliers (–æ—Ä–∞–Ω–∂–µ–≤–∞—è —Å—Ç–æ—Ä–æ–Ω–∞):**
```sql
-- –í—Å–µ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
CREATE POLICY "–ü—É–±–ª–∏—á–Ω–æ–µ —á—Ç–µ–Ω–∏–µ –∞–∫–∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤" 
ON catalog_verified_suppliers FOR SELECT 
USING (is_active = true);

-- –¢–æ–ª—å–∫–æ –º–µ–Ω–µ–¥–∂–µ—Ä—ã –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
-- (–¥–æ–±–∞–≤–∏–º —Ä–æ–ª—å 'manager' –≤ auth.users)
CREATE POLICY "–ú–µ–Ω–µ–¥–∂–µ—Ä—ã –º–æ–≥—É—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏" 
ON catalog_verified_suppliers FOR ALL 
USING (
  EXISTS (
    SELECT 1 FROM auth.users 
    WHERE id = auth.uid() 
    AND raw_user_meta_data->>'role' = 'manager'
  )
);
```

### üîµ **–î–ª—è catalog_user_suppliers (—Å–∏–Ω—è—è —Å—Ç–æ—Ä–æ–Ω–∞):**
```sql
-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –∑–∞–ø–∏—Å–∏
CREATE POLICY "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Å–≤–æ–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏" 
ON catalog_user_suppliers FOR SELECT 
USING (user_id = auth.uid());

-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏ –∑–∞–ø–∏—Å–∏
CREATE POLICY "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤" 
ON catalog_user_suppliers FOR INSERT 
WITH CHECK (user_id = auth.uid());

-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ –∑–∞–ø–∏—Å–∏
CREATE POLICY "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ –∑–∞–ø–∏—Å–∏" 
ON catalog_user_suppliers FOR UPDATE 
USING (user_id = auth.uid());

-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —É–¥–∞–ª—è—Ç—å —Å–≤–æ–∏ –∑–∞–ø–∏—Å–∏
CREATE POLICY "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —É–¥–∞–ª—è—Ç—å —Å–≤–æ–∏ –∑–∞–ø–∏—Å–∏" 
ON catalog_user_suppliers FOR DELETE 
USING (user_id = auth.uid());
```

### üì¶ **–î–ª—è —Ç–æ–≤–∞—Ä–æ–≤:**
```sql
-- –ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è catalog_verified_products –∏ catalog_user_products
-- —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º
```

---

## üîÑ **–õ–û–ì–ò–ö–ê –ò–ú–ü–û–†–¢–ê –ü–û–°–¢–ê–í–©–ò–ö–û–í**

### **–§—É–Ω–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ Get2B:**
```typescript
async function importSupplierFromCatalog(
  verifiedSupplierId: string, 
  userId: string
): Promise<string> {
  
  // 1. –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –∞–∫–∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞
  const { data: verifiedSupplier } = await supabase
    .from('catalog_verified_suppliers')
    .select('*')
    .eq('id', verifiedSupplierId)
    .single()
  
  if (!verifiedSupplier) throw new Error('–ü–æ—Å—Ç–∞–≤—â–∏–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω')
  
  // 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–µ—Ç –ª–∏ —É–∂–µ —Ç–∞–∫–æ–≥–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  const { data: existing } = await supabase
    .from('catalog_user_suppliers')
    .select('id')
    .eq('user_id', userId)
    .eq('source_supplier_id', verifiedSupplierId)
    .single()
  
  if (existing) throw new Error('–ü–æ—Å—Ç–∞–≤—â–∏–∫ —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≤–∞—à —Å–ø–∏—Å–æ–∫')
  
  // 3. –°–æ–∑–¥–∞—Ç—å –∫–æ–ø–∏—é –≤ –ª–∏—á–Ω–æ–º –∫–∞—Ç–∞–ª–æ–≥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  const { data: userSupplier } = await supabase
    .from('catalog_user_suppliers')
    .insert({
      user_id: userId,
      name: verifiedSupplier.name,
      company_name: verifiedSupplier.company_name,
      category: verifiedSupplier.category,
      country: verifiedSupplier.country,
      city: verifiedSupplier.city,
      description: verifiedSupplier.description,
      logo_url: verifiedSupplier.logo_url,
      contact_email: verifiedSupplier.contact_email,
      contact_phone: verifiedSupplier.contact_phone,
      website: verifiedSupplier.website,
      contact_person: verifiedSupplier.contact_person,
      min_order: verifiedSupplier.min_order,
      response_time: verifiedSupplier.response_time,
      employees: verifiedSupplier.employees,
      established: verifiedSupplier.established,
      certifications: verifiedSupplier.certifications,
      specialties: verifiedSupplier.specialties,
      payment_methods: verifiedSupplier.payment_methods,
      source_type: 'imported_from_catalog',
      source_supplier_id: verifiedSupplierId,
      import_date: new Date().toISOString(),
      is_active: true
    })
    .select()
    .single()
  
  // 4. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  const { data: verifiedProducts } = await supabase
    .from('catalog_verified_products')
    .select('*')
    .eq('supplier_id', verifiedSupplierId)
    .eq('in_stock', true)
  
  if (verifiedProducts && verifiedProducts.length > 0) {
    const userProducts = verifiedProducts.map(product => ({
      supplier_id: userSupplier.id,
      user_id: userId,
      name: product.name,
      description: product.description,
      category: product.category,
      price: product.price,
      currency: product.currency,
      min_order: product.min_order,
      images: product.images,
      specifications: product.specifications,
      in_stock: product.in_stock,
      sku: product.sku
    }))
    
    await supabase
      .from('catalog_user_products')
      .insert(userProducts)
  }
  
  return userSupplier.id
}
```

---

## üîß **–û–ë–ù–û–í–õ–ï–ù–ù–´–ï API ENDPOINTS**

### üß° **–ê–∫–∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏:**
```typescript
// GET /api/catalog/verified-suppliers
// POST /api/catalog/verified-suppliers (—Ç–æ–ª—å–∫–æ –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤)
// PATCH /api/catalog/verified-suppliers/:id (—Ç–æ–ª—å–∫–æ –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤)
// DELETE /api/catalog/verified-suppliers/:id (—Ç–æ–ª—å–∫–æ –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤)
```

### üîµ **–õ–∏—á–Ω—ã–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏:**
```typescript
// GET /api/catalog/user-suppliers (—Ç–æ–ª—å–∫–æ —Å–≤–æ–∏)
// POST /api/catalog/user-suppliers
// PATCH /api/catalog/user-suppliers/:id (—Ç–æ–ª—å–∫–æ —Å–≤–æ–∏)
// DELETE /api/catalog/user-suppliers/:id (—Ç–æ–ª—å–∫–æ —Å–≤–æ–∏)
// POST /api/catalog/user-suppliers/import/:verifiedId (–∏–º–ø–æ—Ä—Ç –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞)
```

---

## üöÄ **–ü–õ–ê–ù –ú–ò–ì–†–ê–¶–ò–ò**

### **–≠—Ç–∞–ø 1: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü**
1. –°–æ–∑–¥–∞—Ç—å `catalog_verified_suppliers`
2. –°–æ–∑–¥–∞—Ç—å `catalog_user_suppliers`
3. –°–æ–∑–¥–∞—Ç—å `catalog_verified_products`
4. –°–æ–∑–¥–∞—Ç—å `catalog_user_products`
5. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å RLS –ø–æ–ª–∏—Ç–∏–∫–∏

### **–≠—Ç–∞–ø 2: –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**
1. –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å—Ç–∞—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ `CATALOG_SUPPLIERS` ‚Üí `catalog_verified_suppliers`
2. –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ `catalog_suppliers` ‚Üí `catalog_user_suppliers`
3. –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–≤–∞—Ä—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ

### **–≠—Ç–∞–ø 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞**
1. –û–±–Ω–æ–≤–∏—Ç—å API endpoints
2. –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–∞—Ç–∞–ª–æ–≥–∞
3. –û–±–Ω–æ–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∏–º–ø–æ—Ä—Ç–∞
4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### **–≠—Ç–∞–ø 4: –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–π —Ç–∞–±–ª–∏—Ü—ã**
1. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
2. –£–¥–∞–ª–∏—Ç—å `catalog_suppliers`
3. –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

---

## ‚úÖ **–ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê –ù–û–í–û–ô –ê–†–•–ò–¢–ï–ö–¢–£–†–´**

1. **üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - —á–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞
2. **üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –∫–∞–∂–¥–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è —Å–≤–æ–µ–π —Ü–µ–ª–∏
3. **üéØ –ü—Ä–æ—Å—Ç–æ—Ç–∞** - –ø–æ–Ω—è—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
4. **üîÑ –ì–∏–±–∫–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
5. **‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
6. **üõ°Ô∏è –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –º–µ–Ω—å—à–µ –æ—à–∏–±–æ–∫ –≤ RLS –ø–æ–ª–∏—Ç–∏–∫–∞—Ö

**–≠—Ç–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–∞–µ—Ç –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã V1.0 –∏ –≥–æ—Ç–æ–≤–∞ –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é!** üöÄ 