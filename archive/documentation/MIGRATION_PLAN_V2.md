# üöÄ –ü–õ–ê–ù –ú–ò–ì–†–ê–¶–ò–ò –ö –ê–†–•–ò–¢–ï–ö–¢–£–†–ï –ö–ê–¢–ê–õ–û–ì–ê V2.0

## üìã **–ö–†–ê–¢–ö–û–ï –ò–ó–õ–û–ñ–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´**

**–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** –û–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ `catalog_suppliers` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–≤—É—Ö —Ä–∞–∑–Ω—ã—Ö —Ü–µ–ª–µ–π:
- üîµ **–°–∏–Ω—è—è —Å—Ç–æ—Ä–æ–Ω–∞** - –ª–∏—á–Ω—ã–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π 
- üß° **–û—Ä–∞–Ω–∂–µ–≤–∞—è —Å—Ç–æ—Ä–æ–Ω–∞** - –∞–∫–∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏ Get2B

**–ü—Ä–æ–±–ª–µ–º—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã V1.0:**
- ‚ùå –°–º–µ—à–∏–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚ùå –°–ª–æ–∂–Ω—ã–µ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚ùå –ü—Ä–æ–±–ª–µ–º—ã –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚ùå –ü—É—Ç–∞–Ω–∏—Ü–∞ –≤ –∫–æ–¥–µ - –æ–¥–Ω–∏ API –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö

---

## ‚úÖ **–†–ï–®–ï–ù–ò–ï: –ê–†–•–ò–¢–ï–ö–¢–£–†–ê V2.0**

### **–ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
1. **`catalog_verified_suppliers`** - üß° –ê–∫–∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏ (—É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º–∏)
2. **`catalog_user_suppliers`** - üîµ –õ–∏—á–Ω—ã–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏ (—É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏)
3. **`catalog_verified_products`** - –¢–æ–≤–∞—Ä—ã –∞–∫–∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
4. **`catalog_user_products`** - –¢–æ–≤–∞—Ä—ã –ª–∏—á–Ω—ã—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤

### **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- ‚úÖ –ü—Ä–æ—Å—Ç—ã–µ –∏ –ø–æ–Ω—è—Ç–Ω—ã–µ RLS –ø–æ–ª–∏—Ç–∏–∫–∏
- ‚úÖ –õ–µ–≥–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö (–∏–º–ø–æ—Ä—Ç –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ vs —Ä—É—á–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ)

---

## üóÇÔ∏è **–≠–¢–ê–ü–´ –ú–ò–ì–†–ê–¶–ò–ò**

### **–≠–¢–ê–ü 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞** ‚è±Ô∏è 15 –º–∏–Ω—É—Ç
- [x] ‚úÖ –°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã V2.0
- [x] ‚úÖ –°–æ–∑–¥–∞—Ç—å SQL —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏
- [x] ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏
- [ ] üîÑ –í—ã–ø–æ–ª–Ω–∏—Ç—å SQL —Å–∫—Ä–∏–ø—Ç –≤ Supabase

### **–≠–¢–ê–ü 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ API** ‚è±Ô∏è 30 –º–∏–Ω—É—Ç
- [ ] üîÑ –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ API endpoints:
  - `/api/catalog/verified-suppliers` - –¥–ª—è –æ—Ä–∞–Ω–∂–µ–≤–æ–π —Å—Ç–æ—Ä–æ–Ω—ã
  - `/api/catalog/user-suppliers` - –¥–ª—è —Å–∏–Ω–µ–π —Å—Ç–æ—Ä–æ–Ω—ã
  - `/api/catalog/user-suppliers/import/:id` - –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞
- [ ] üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ API –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- [ ] üîÑ –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∏–º–ø–æ—Ä—Ç–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤

### **–≠–¢–ê–ü 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞** ‚è±Ô∏è 45 –º–∏–Ω—É—Ç
- [ ] üîÑ –û–±–Ω–æ–≤–∏—Ç—å `app/dashboard/catalog/page.tsx`:
  - –°–∏–Ω—è—è —Å—Ç–æ—Ä–æ–Ω–∞ ‚Üí –∑–∞–ø—Ä–æ—Å—ã –∫ `catalog_user_suppliers`
  - –û—Ä–∞–Ω–∂–µ–≤–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ ‚Üí –∑–∞–ø—Ä–æ—Å—ã –∫ `catalog_verified_suppliers`
- [ ] üîÑ –û–±–Ω–æ–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–î–æ–±–∞–≤–∏—Ç—å –∫ —Å–µ–±–µ" ‚Üí —Ñ—É–Ω–∫—Ü–∏—è –∏–º–ø–æ—Ä—Ç–∞
- [ ] üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Ñ–æ—Ä–º—ã –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
- [ ] üîÑ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏

### **–≠–¢–ê–ü 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚è±Ô∏è 20 –º–∏–Ω—É—Ç
- [ ] üîÑ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—é—é —Å—Ç–æ—Ä–æ–Ω—É (–ª–∏—á–Ω—ã–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏)
- [ ] üîÑ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ä–∞–Ω–∂–µ–≤—É—é —Å—Ç–æ—Ä–æ–Ω—É (–∫–∞—Ç–∞–ª–æ–≥ Get2B)
- [ ] üîÑ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∏–º–ø–æ—Ä—Ç–∞
- [ ] üîÑ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (RLS –ø–æ–ª–∏—Ç–∏–∫–∏)

### **–≠–¢–ê–ü 5: –û—á–∏—Å—Ç–∫–∞** ‚è±Ô∏è 10 –º–∏–Ω—É—Ç
- [ ] üîÑ –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ API endpoints (–ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- [ ] üîÑ –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—É—é —Ç–∞–±–ª–∏—Ü—É `catalog_suppliers`
- [ ] üîÑ –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

---

## üîß **–¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò**

### **–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
1. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
   - `migrate-to-v2-architecture.sql` - –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤ Supabase

2. **API Endpoints:**
   - `app/api/catalog/verified-suppliers/route.ts` - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π
   - `app/api/catalog/user-suppliers/route.ts` - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π
   - `app/api/catalog/user-suppliers/import/[id]/route.ts` - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π
   - `app/api/catalog/suppliers/route.ts` - –æ–±–Ω–æ–≤–∏—Ç—å –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å

3. **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
   - `app/dashboard/catalog/page.tsx` - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –∫–∞—Ç–∞–ª–æ–≥–∞
   - `components/catalog-categories-and-certifications.ts` - –µ—Å–ª–∏ –Ω—É–∂–Ω—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è

4. **–¢–∏–ø—ã:**
   - `lib/types.ts` - –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –¥–ª—è V2.0

---

## üö® **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ú–û–ú–ï–ù–¢–´**

### **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- üîê RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- üîê –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ –≤ —Å–∏–Ω–µ–π —Å—Ç–æ—Ä–æ–Ω–µ
- üîê –í—Å–µ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å –æ—Ä–∞–Ω–∂–µ–≤—É—é —Å—Ç–æ—Ä–æ–Ω—É (–∞–∫–∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏)

### **–î–∞–Ω–Ω—ã–µ:**
- üìä –°—Ç–∞—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ Get2B –ø–µ—Ä–µ–Ω–æ—Å—è—Ç—Å—è –≤ `catalog_verified_suppliers`
- üìä –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–Ω–æ—Å—è—Ç—Å—è –≤ `catalog_user_suppliers`
- üìä –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö (`source_type`, `source_supplier_id`)

### **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:**
- üîÑ –°—Ç–∞—Ä—ã–µ API —Ä–∞–±–æ—Ç–∞—é—Ç –¥–æ –ø–æ–ª–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞
- üîÑ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –ø–µ—Ä–µ—Ä—ã–≤–æ–≤
- üîÑ –î–∞–Ω–Ω—ã–µ –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è

---

## ‚ö° **–ë–´–°–¢–†–´–ô –°–¢–ê–†–¢**

### **–®–∞–≥ 1: –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î**
```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ migrate-to-v2-architecture.sql
# –í—ã–ø–æ–ª–Ω–∏—Ç—å –≤ Supabase SQL Editor
```

### **–®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü**
```sql
SELECT table_name FROM information_schema.tables 
WHERE table_name LIKE 'catalog_%' 
ORDER BY table_name;
```

### **–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ**
```sql
SELECT 'verified_suppliers' as type, count(*) as count FROM catalog_verified_suppliers
UNION ALL
SELECT 'user_suppliers' as type, count(*) as count FROM catalog_user_suppliers;
```

---

## üìä **–û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢**

–ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏:

### **üß° –û—Ä–∞–Ω–∂–µ–≤–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ (Get2B –∫–∞—Ç–∞–ª–æ–≥):**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç 4 –∞–∫–∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –∏–∑ `catalog_verified_suppliers`
- –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å –∫ —Å–µ–±–µ" —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –î–∞–Ω–Ω—ã–µ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º–∏

### **üîµ –°–∏–Ω—è—è —Å—Ç–æ—Ä–æ–Ω–∞ (–õ–∏—á–Ω—ã–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏):**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ `catalog_user_suppliers`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –∑–∞–ø–∏—Å–∏
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö (–¥–æ–±–∞–≤–ª–µ–Ω –≤—Ä—É—á–Ω—É—é / –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω)

### **üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –≤–∏–¥—è—Ç —á—É–∂–∏–µ –¥–∞–Ω–Ω—ã–µ
- –ü—Ä–æ—Å—Ç—ã–µ –∏ –ø–æ–Ω—è—Ç–Ω—ã–µ RLS –ø–æ–ª–∏—Ç–∏–∫–∏

### **üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:**
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –ö–∞–∂–¥–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è —Å–≤–æ–µ–π —Ü–µ–ª–∏
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏

---

## üéØ **–ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï**

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ V2.0 —Ä–µ—à–∞–µ—Ç –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã V1.0 –∏ –≥–æ—Ç–æ–≤–∞ –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é!**

–ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–π–º–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ **2 —á–∞—Å–∞** –∏ –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ —É–ª—É—á—à–∏—Ç:
- üîê **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - —á–µ—Ç–∫–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã –¥–æ—Å—Ç—É–ø–∞
- üìà **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã  
- üîß **–ü–æ–¥–¥–µ—Ä–∂–∫—É** - –ø–æ–Ω—è—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- üöÄ **–†–∞–∑–≤–∏—Ç–∏–µ** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

**–ù–∞—á–∏–Ω–∞–µ–º –º–∏–≥—Ä–∞—Ü–∏—é!** üöÄ 