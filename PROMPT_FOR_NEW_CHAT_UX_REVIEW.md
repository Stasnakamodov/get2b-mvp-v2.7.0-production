# Проверка UX и функциональности B2B каталога

## Контекст проекта
У нас есть B2B платформа для управления поставками, построенная на Next.js 15 с использованием FSD архитектуры. Недавно были внедрены улучшения UI/UX и система управления корзиной через Context API.

## Технический стек
- **Framework:** Next.js 15 (App Router)
- **Архитектура:** FSD (Feature-Sliced Design)
- **База данных:** Supabase
- **Стилизация:** Tailwind CSS с градиентами (violet-indigo бренд)
- **State Management:** React Context API для корзины
- **Персистентность:** localStorage с синхронизацией между вкладками

## Что нужно проверить

### 1. Функциональность корзины
**Критически важно проверить:**
- ✅ Сохранение товаров при перезагрузке страницы
- ✅ Правильное отображение количества товаров
- ✅ Блокировка добавления товаров от разных поставщиков
- ✅ Синхронизация состояния между компонентами
- ✅ Корректная работа localStorage

**Файлы для проверки:**
- `/src/features/cart-management/providers/CartProvider.tsx` - глобальное состояние корзины
- `/src/features/cart-management/hooks/useCart.ts` - локальный хук (устаревший, нужно убедиться что не используется)
- `/app/dashboard/catalog/page.tsx` - главная страница каталога

**Известная проблема:** При перезагрузке страницы товары в корзине исчезают, но поставщик остается. После добавления нового товара старые появляются. Должно быть исправлено через Context Provider с флагом isInitialized.

### 2. UI/UX каталога

**Визуальная целостность:**
- Чистый дизайн без отладочной информации
- Консистентное использование брендовых цветов (градиенты violet-indigo)
- Правильные отступы и выравнивание элементов
- Отсутствие дублирования информации

**Интерактивность:**
- Все товары кликабельны и открываются в модальных окнах
- Кнопки "В корзину" видны всегда на карточках товаров
- Модальные окна поставщиков показывают интерактивные товары
- Плавные анимации и переходы

**Проверить компоненты:**
- `/src/widgets/catalog-suppliers/ui/SupplierCard.tsx` - карточки поставщиков
- `/src/widgets/catalog-suppliers/ui/ProductCard.tsx` - карточки товаров
- `/src/features/supplier-modal/ui/SupplierModal.tsx` - модальное окно поставщика

### 3. Навигация и маршрутизация

**Проверить переходы:**
- Из каталога в создание проекта с выбранным поставщиком
- Из корзины в оформление заказа
- Между режимами каталога (категории/поставщики)
- Сохранение состояния при навигации

### 4. Производительность

**Оптимизация:**
- Динамические импорты для тяжелых компонентов
- Правильное использование React.memo где необходимо
- Отсутствие лишних ре-рендеров
- Эффективная работа с localStorage

### 5. Доступность (Accessibility)

**Базовые требования:**
- ARIA-лейблы для интерактивных элементов
- Правильная табуляция (keyboard navigation)
- Контрастность текста соответствует WCAG 2.1
- Альтернативный текст для изображений

## Чеклист для тестирования

### Сценарий 1: Добавление в корзину
1. [ ] Открыть каталог товаров
2. [ ] Добавить товар в корзину
3. [ ] Проверить счетчик в шапке
4. [ ] Перезагрузить страницу
5. [ ] Убедиться что товар остался в корзине
6. [ ] Добавить товар другого поставщика
7. [ ] Проверить предупреждение о смене поставщика

### Сценарий 2: Работа с модальными окнами
1. [ ] Открыть карточку поставщика
2. [ ] Проверить что товары в модалке кликабельны
3. [ ] Добавить товар из модального окна
4. [ ] Проверить что модалка корректно закрывается

### Сценарий 3: Мультивкладочность
1. [ ] Открыть каталог в двух вкладках
2. [ ] Добавить товар в первой вкладке
3. [ ] Проверить обновление корзины во второй вкладке
4. [ ] Очистить корзину в одной вкладке
5. [ ] Убедиться что изменение отразилось везде

## Потенциальные проблемы для исправления

### Высокий приоритет:
1. **Персистентность корзины** - товары должны сохраняться при перезагрузке
2. **Дублирование названий** - в модальных окнах не должно быть дубликатов
3. **Отладочная информация** - убрать все debug-виджеты и console.log из production

### Средний приоритет:
1. **Оптимизация изображений** - использовать next/image для оптимизации
2. **Skeleton loading** - добавить скелетоны при загрузке данных
3. **Error boundaries** - обработка ошибок на уровне компонентов

### Низкий приоритет:
1. **Анимации** - добавить микроанимации для улучшения UX
2. **Подсказки** - tooltips для сложных элементов интерфейса
3. **Горячие клавиши** - shortcuts для быстрой навигации

## Метрики успеха

1. **Функциональность:** 100% сценариев работают без ошибок
2. **Производительность:** Time to Interactive < 3s
3. **Доступность:** Lighthouse Accessibility Score > 90
4. **UX:** Пользователь может выполнить основные задачи за < 3 клика

## Инструкции для проверки

1. Начните с чтения файла `/app/dashboard/catalog/page.tsx` для понимания общей структуры
2. Проверьте `/src/features/cart-management/providers/CartProvider.tsx` для понимания логики корзины
3. Протестируйте все сценарии из чеклиста
4. Исправьте найденные проблемы начиная с высокого приоритета
5. Убедитесь что дизайн чистый и профессиональный без отладочных элементов

## Важные замечания

- **НЕ добавляйте** debug-виджеты или отладочную информацию в UI
- **Сохраняйте** брендовые цвета (violet-indigo градиенты)
- **Используйте** FSD архитектуру при добавлении новых фич
- **Тестируйте** в разных браузерах (Chrome, Safari, Firefox)
- **Проверяйте** dark mode для всех компонентов

## Ожидаемый результат

После проверки и исправлений приложение должно:
1. Безупречно работать с корзиной (добавление, удаление, персистентность)
2. Иметь премиальный внешний вид без технических артефактов
3. Обеспечивать плавный UX без задержек и глюков
4. Быть готовым к production deployment

---

**Начните с запуска приложения:**
```bash
npm run dev
```

**Откройте в браузере:**
```
http://localhost:3000/dashboard/catalog
```

**Проверьте все функции согласно чеклисту выше.**