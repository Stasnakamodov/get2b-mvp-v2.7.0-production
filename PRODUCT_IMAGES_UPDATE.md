# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∞–∫–∫—Ä–µ–¥–∏—Ç–∞—Ü–∏–∏

## –û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

–î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤ –≤ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –∞–∫–∫—Ä–µ–¥–∏—Ç–∞—Ü–∏–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤.

## –ß—Ç–æ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### 1. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å (AccreditationModal.tsx)

**–ù–æ–≤—ã–µ –ø–æ–ª—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Product:**
```typescript
interface Product {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
  images: File[]        // –§–∞–π–ª—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤
  imageNames: string[]  // –ò–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
}
```

**–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:**
```typescript
const handleProductImageUpload = (files: FileList | null, productId?: string) => {
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤ (JPG, PNG, PDF)
}
```

**–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è "üì∑ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞" –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
- –û—Ç–¥–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
- –°—á–µ—Ç—á–∏–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –≤ —Å–ø–∏—Å–∫–µ —Ç–æ–≤–∞—Ä–æ–≤
- –í–∏–∑—É–∞–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (—Å–∏–Ω–∏–π —Ü–≤–µ—Ç) –∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ (—Å–µ—Ä—ã–π —Ü–≤–µ—Ç)

### 2. API (submit-accreditation/route.ts)

**–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:**
```typescript
// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ FormData
const productImageFiles: any[] = [];
products.forEach((product, pIndex) => {
  const imageCount = product.images ? product.images.length : 0;
  for (let iIndex = 0; iIndex < imageCount; iIndex++) {
    const file = formData.get(`product_${pIndex}_image_${iIndex}`) as File;
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  }
});
```

**–û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:**
```typescript
products_data: JSON.stringify(products.map((product, index) => ({
  ...product,
  images_info: productImageFiles
    .filter(img => img.product_index === index)
    .map(img => ({
      name: img.name,
      size: img.size,
      type: img.type
    })),
  certificates_info: certificateFiles
    .filter(cert => cert.product_index === index)
    .map(cert => ({
      name: cert.name,
      size: cert.size,
      type: cert.type
    }))
})))
```

### 3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–ù–æ–≤–æ–µ –ø–æ–ª–µ –≤ —Ç–∞–±–ª–∏—Ü–µ accreditation_applications:**
```sql
ALTER TABLE accreditation_applications 
ADD COLUMN IF NOT EXISTS product_images_count INTEGER DEFAULT 0;
```

**–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å—á–µ—Ç—á–∏–∫–∏:**
- `product_images_count` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤
- `certificates_count` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ (—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ)
- `legal_documents_count` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ)

## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç

### –î–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤:
1. **–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** - —Å–∏–Ω—è—è —Å–µ–∫—Ü–∏—è "üì∑ –î–æ–±–∞–≤–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞"
2. **–ó–∞–≥—Ä—É–∑–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤** - —Å–µ—Ä–∞—è —Å–µ–∫—Ü–∏—è "üìã –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã" (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã)

### –î–ª—è –Ω–æ–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤:
1. **–ü–æ–ª—è —Ç–æ–≤–∞—Ä–∞** - –Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –æ–ø–∏—Å–∞–Ω–∏–µ
2. **–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞** - –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ –ø—Ä–æ–¥—É–∫—Ü–∏–∏, —É–ø–∞–∫–æ–≤–∫–∏, –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
3. **–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã** - –∑–∞–≥—Ä—É–∑–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –∫–∞—á–µ—Å—Ç–≤–∞, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

### –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã:
- üì∑ **–°–∏–Ω–∏–π —Ü–≤–µ—Ç** - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤
- üìã **–°–µ—Ä—ã–π —Ü–≤–µ—Ç** - —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- **–°—á–µ—Ç—á–∏–∫–∏** - "–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: X" –∏ "–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤: Y" –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ñ–∞–π–ª–∞–º

### –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤:
- **–§–æ—Ä–º–∞—Ç—ã:** JPG, PNG, JPEG
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –§–æ—Ç–æ –ø—Ä–æ–¥—É–∫—Ü–∏–∏, —É–ø–∞–∫–æ–≤–∫–∏, –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏
- **–°—Ç–∞—Ç—É—Å:** –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

### –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã:
- **–§–æ—Ä–º–∞—Ç—ã:** PDF, JPG, PNG, JPEG
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **–°—Ç–∞—Ç—É—Å:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ (–º–∏–Ω–∏–º—É–º 1 —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞)

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

### –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:
- ‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–æ–≤–∞—Ä—ã –±–µ–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- ‚úÖ CSV –∏–º–ø–æ—Ä—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É —Ç—Ä–µ–±—É–µ—Ç —Ç–æ–ª—å–∫–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

### –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∫ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ç–æ–≤–∞—Ä–∞–º
- ‚úÖ –ú–∞—Å—Å–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ –û—Ç–¥–µ–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**API –æ—Ç–≤–µ—Ç —Ç–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞–µ—Ç:**
```json
{
  "details": {
    "products_count": 5,
    "product_images_count": 12,
    "certificates_count": 8,
    "legal_documents_count": 3,
    "profile_updated": true
  }
}
```

**Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤–∫–ª—é—á–∞—é—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö —Ç–æ–≤–∞—Ä–æ–≤**

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π

1. **app/dashboard/catalog/components/AccreditationModal.tsx** - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
2. **app/api/catalog/submit-accreditation/route.ts** - API –æ–±—Ä–∞–±–æ—Ç–∫–∞
3. **add-product-images-count-to-accreditation.sql** - –º–∏–≥—Ä–∞—Ü–∏—è –ë–î
4. **PRODUCT_IMAGES_UPDATE.md** - –¥–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
19 –¥–µ–∫–∞–±—Ä—è 2024 –≥. 