# üîç –ü–†–û–¶–ï–°–° –ê–ù–ê–õ–ò–ó–ê –ò –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ò–ú–ü–û–†–¢–ê –ü–û–°–¢–ê–í–©–ò–ö–û–í

## üìã –ü–û–®–ê–ì–û–í–´–ô –ü–õ–ê–ù

### –®–∞–≥ 1: –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
```sql
-- –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç analyze-catalog-structure-current.sql
-- –≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç:
-- 1. –ö–∞–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç
-- 2. –°—Ç—Ä—É–∫—Ç—É—Ä—É –ø–æ–ª–µ–π –≤ –∫–∞–∂–¥–æ–π —Ç–∞–±–ª–∏—Ü–µ
-- 3. –ö–∞–∫–∏–µ –ø–æ–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Ç–∞–±–ª–∏—Ü–µ
-- 4. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –¥–∞–Ω–Ω—ã–º
-- 5. –ü—Ä–æ–±–ª–µ–º—ã —Å –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏
```

### –®–∞–≥ 2: –ò–∑—É—á–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
–ü–µ—Ä–µ–¥ –≤–Ω–µ—Å–µ–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–∑—É—á–∏—Ç–µ:
- `CATALOG_ARCHITECTURE_V2.md` - —Ç–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- `CATALOG_STRATEGY.md` - —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∫–∞—Ç–∞–ª–æ–≥–∞
- `INTELLIGENT_CATALOG_ARCHITECTURE.md` - —É–º–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –®–∞–≥ 3: –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
–ù–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ:
- –ö–∞–∫–∏–µ –ø–æ–ª—è –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ `catalog_user_suppliers`
- –ö–∞–∫–∏–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å
- –ö–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–º–ø–æ—Ä—Ç–∞ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å

### –®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ SQL —Å–∫—Ä–∏–ø—Ç–æ–≤
–°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ:
1. **–ê–Ω–∞–ª–∏–∑** - –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
2. **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** - —á—Ç–æ –∏ –∫–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å
3. **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è** - –≤–Ω–µ—Å–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
4. **–ü—Ä–æ–≤–µ—Ä–∫–∞** - –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## üö® –í–ê–ñ–ù–´–ï –ü–†–ò–ù–¶–ò–ü–´

### 1. –°–Ω–∞—á–∞–ª–∞ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π, –ø–æ—Ç–æ–º –∏–∑–º–µ–Ω—è–π
```sql
-- ‚ùå –ü–õ–û–•–û: —Å—Ä–∞–∑—É –ø–∏—Å–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
ALTER TABLE catalog_user_suppliers ADD COLUMN logo_url text;

-- ‚úÖ –•–û–†–û–®–û: —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å
-- 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
-- 2. –°—Ä–∞–≤–Ω–∏—Ç—å —Å –∞–∫–∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏
-- 3. –ü–æ–Ω—è—Ç—å —á—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å
-- 4. –°–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω –∏–∑–º–µ–Ω–µ–Ω–∏–π
-- 5. –í–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è
```

### 2. –°–æ—Ö—Ä–∞–Ω—è–π –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
```sql
-- ‚ùå –ü–õ–û–•–û: —É–¥–∞–ª—è—Ç—å –ø–æ–ª—è –±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
DROP COLUMN old_field;

-- ‚úÖ –•–û–†–û–®–û: –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ø–æ–ª—è, —Å—Ç–∞—Ä—ã–µ –æ—Å—Ç–∞–≤–ª—è—Ç—å
ADD COLUMN new_field text,
ADD COLUMN migration_note text DEFAULT 'Migrated from old_field';
```

### 3. –¢–µ—Å—Ç–∏—Ä—É–π –Ω–∞ –∫–æ–ø–∏–∏ –¥–∞–Ω–Ω—ã—Ö
```sql
-- ‚ùå –ü–õ–û–•–û: —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
UPDATE catalog_user_suppliers SET logo_url = 'test';

-- ‚úÖ –•–û–†–û–®–û: —Å–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –∫–æ–ø–∏—é
CREATE TABLE catalog_user_suppliers_test AS 
SELECT * FROM catalog_user_suppliers LIMIT 10;
```

## üìä –ß–¢–û –ê–ù–ê–õ–ò–ó–ò–†–£–ï–¢ –°–ö–†–ò–ü–¢

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü
- –ö–∞–∫–∏–µ –ø–æ–ª—è –µ—Å—Ç—å –≤ `catalog_verified_suppliers`
- –ö–∞–∫–∏–µ –ø–æ–ª—è –µ—Å—Ç—å –≤ `catalog_user_suppliers`
- –ö–∞–∫–∏–µ –ø–æ–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç

### 2. –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
- –°–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏
- –ü—Ä–æ–±–ª–µ–º—ã —Å nullable –ø–æ–ª—è–º–∏
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏–∑–º–µ–Ω–µ–Ω–∏—é —Ç–∏–ø–æ–≤

### 3. –î–∞–Ω–Ω—ã–µ
- –°–∫–æ–ª—å–∫–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ
- –£ —Å–∫–æ–ª—å–∫–∏—Ö –µ—Å—Ç—å –ª–æ–≥–æ—Ç–∏–ø—ã
- –£ —Å–∫–æ–ª—å–∫–∏—Ö –µ—Å—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (certifications)
- –ü—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö

### 4. –§—É–Ω–∫—Ü–∏–∏
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–º–ø–æ—Ä—Ç–∞
- –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å

## üîß –ü–†–ò–ú–ï–†–´ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

### –ü—Ä–æ–±–ª–µ–º–∞: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª–µ logo_url
```sql
-- –ê–Ω–∞–ª–∏–∑
SELECT column_name FROM information_schema.columns 
WHERE table_name = 'catalog_verified_suppliers' 
  AND column_name = 'logo_url';

-- –†–µ—à–µ–Ω–∏–µ
ALTER TABLE catalog_user_suppliers 
ADD COLUMN logo_url text;

-- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–ø–∏—Å–µ–π
UPDATE catalog_user_suppliers 
SET logo_url = vs.logo_url
FROM catalog_verified_suppliers vs
WHERE catalog_user_suppliers.source_supplier_id = vs.id
  AND catalog_user_suppliers.logo_url IS NULL;
```

### –ü—Ä–æ–±–ª–µ–º–∞: –†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
```sql
-- –ê–Ω–∞–ª–∏–∑
SELECT vf.column_name, vf.data_type, uf.data_type
FROM information_schema.columns vf
JOIN information_schema.columns uf ON vf.column_name = uf.column_name
WHERE vf.table_name = 'catalog_verified_suppliers'
  AND uf.table_name = 'catalog_user_suppliers'
  AND vf.data_type != uf.data_type;

-- –†–µ—à–µ–Ω–∏–µ
ALTER TABLE catalog_user_suppliers 
ALTER COLUMN field_name TYPE new_type;
```

## üìù –ß–ï–ö–õ–ò–°–¢ –ü–ï–†–ï–î –ò–ó–ú–ï–ù–ï–ù–ò–Ø–ú–ò

- [ ] –í—ã–ø–æ–ª–Ω–µ–Ω –∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- [ ] –ò–∑—É—á–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ
- [ ] –°–æ–∑–¥–∞–Ω –ø–ª–∞–Ω –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ –∫–æ–ø–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- [ ] –°–æ–∑–¥–∞–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏
- [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã SQL —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –æ—Ç–∫–∞—Ç–∞
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢ –ê–ù–ê–õ–ò–ó–ê

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞–Ω–∞–ª–∏–∑–∞ –≤—ã –¥–æ–ª–∂–Ω—ã –ø–æ–ª—É—á–∏—Ç—å:
1. **–ü–æ–ª–Ω—É—é –∫–∞—Ä—Ç–∏–Ω—É** —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ë–î
2. **–°–ø–∏—Å–æ–∫ –ø—Ä–æ–±–ª–µ–º** —Å –∏–º–ø–æ—Ä—Ç–æ–º –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
3. **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é
4. **SQL —Å–∫—Ä–∏–ø—Ç—ã** –¥–ª—è –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
5. **–ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** –∏–∑–º–µ–Ω–µ–Ω–∏–π

–¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –ø—Ä–∏—Å—Ç—É–ø–∞—Ç—å –∫ –Ω–∞–ø–∏—Å–∞–Ω–∏—é SQL –∫–æ–¥–æ–≤ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å –∏–º–ø–æ—Ä—Ç–æ–º! 