# ‚úÖ –ß–ï–ö-–õ–ò–°–¢ –ë–ï–ó–û–ü–ê–°–ù–û–ì–û –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ê –ö–ê–¢–ê–õ–û–ì–ê

## üìã –°–¢–ê–¢–£–° –ü–û–î–ì–û–¢–û–í–ö–ò

- [x] –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–æ–≤–µ–¥–µ–Ω
- [x] –ú–æ–Ω–æ–ª–∏—Ç—ã –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã (5436 —Å—Ç—Ä–æ–∫)
- [x] –°–∏—Å—Ç–µ–º–∞ –º–∞—Ä–∫–µ—Ä–æ–≤ —Å–æ–∑–¥–∞–Ω–∞
- [x] –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Å—Ç–∞ —Ä–∞–∑–º–µ—á–µ–Ω—ã
- [x] –ö–∞—Ä—Ç–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞
- [ ] –¢–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã
- [ ] –ë—ç–∫–∞–ø —Å–æ–∑–¥–∞–Ω

---

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ë–ê–ì (–ò–°–ü–†–ê–í–ò–¢–¨ –ü–ï–†–í–´–ú!)

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

**–§–∞–π–ª:** `app/dashboard/catalog/page.tsx`
**–°—Ç—Ä–æ–∫–∞:** 2258-2266
```typescript
// –ë–´–õ–û:
<ProductGridByCategory
  selectedCategory={selectedCategoryData?.name || ''}
  token={authToken}
  ...
/>

// –î–û–õ–ñ–ù–û –ë–´–¢–¨:
<ProductGridByCategory
  selectedCategory={selectedCategoryData?.name || ''}
  selectedSubcategory={selectedSubcategoryData?.name} // ‚Üê –î–û–ë–ê–í–ò–¢–¨!
  token={authToken}
  ...
/>
```

**–§–∞–π–ª:** `components/catalog/ProductGridByCategory.tsx`
**–°—Ç—Ä–æ–∫–∞:** 64
```typescript
// –ë–´–õ–û:
interface ProductGridByCategoryProps {
  selectedCategory: string
  token: string
  ...
}

// –î–û–õ–ñ–ù–û –ë–´–¢–¨:
interface ProductGridByCategoryProps {
  selectedCategory: string
  selectedSubcategory?: string // ‚Üê –î–û–ë–ê–í–ò–¢–¨!
  token: string
  ...
}
```

**–°—Ç—Ä–æ–∫–∞:** 100
```typescript
// –ë–´–õ–û:
export default function ProductGridByCategory({
  selectedCategory,
  token,
  ...
}) {

// –î–û–õ–ñ–ù–û –ë–´–¢–¨:
export default function ProductGridByCategory({
  selectedCategory,
  selectedSubcategory, // ‚Üê –î–û–ë–ê–í–ò–¢–¨!
  token,
  ...
}) {
```

**–°—Ç—Ä–æ–∫–∞:** 137-157
```typescript
// –ë–´–õ–û:
const loadProducts = async () => {
  if (!selectedCategory) return
  ...
  const response = await fetch(
    `/api/catalog/products-by-category/${encodeURIComponent(selectedCategory)}?...`
  )

// –î–û–õ–ñ–ù–û –ë–´–¢–¨:
const loadProducts = async () => {
  if (!selectedCategory) return
  ...
  const categoryParam = selectedSubcategory || selectedCategory // ‚Üê –î–û–ë–ê–í–ò–¢–¨!
  const response = await fetch(
    `/api/catalog/products-by-category/${encodeURIComponent(categoryParam)}?...` // ‚Üê –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨!
  )
```

**–°—Ç—Ä–æ–∫–∞:** 126
```typescript
// –ë–´–õ–û:
}, [selectedCategory, token])

// –î–û–õ–ñ–ù–û –ë–´–¢–¨:
}, [selectedCategory, selectedSubcategory, token]) // ‚Üê –î–û–ë–ê–í–ò–¢–¨ selectedSubcategory!
```

---

## üìù –ü–û–®–ê–ì–û–í–´–ô –ü–õ–ê–ù –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ê

### –§–ê–ó–ê 1: –ë–´–°–¢–†–´–ô –•–û–¢–§–ò–ö–° (1-2 —á–∞—Å–∞)

- [ ] **–®–∞–≥ 1.1:** –°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É `fix/subcategory-display`
- [ ] **–®–∞–≥ 1.2:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å ProductGridByCategory interface
- [ ] **–®–∞–≥ 1.3:** –î–æ–±–∞–≤–∏—Ç—å selectedSubcategory –≤ props
- [ ] **–®–∞–≥ 1.4:** –û–±–Ω–æ–≤–∏—Ç—å loadProducts —Ñ—É–Ω–∫—Ü–∏—é
- [ ] **–®–∞–≥ 1.5:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å useEffect –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- [ ] **–®–∞–≥ 1.6:** –û–±–Ω–æ–≤–∏—Ç—å page.tsx - –ø–µ—Ä–µ–¥–∞—Ç—å selectedSubcategory
- [ ] **–®–∞–≥ 1.7:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
- [ ] **–®–∞–≥ 1.8:** –°–æ–∑–¥–∞—Ç—å PR –∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å

### –§–ê–ó–ê 2: –ò–ó–í–õ–ï–ß–ï–ù–ò–ï –°–ï–†–í–ò–°–û–í (1 –¥–µ–Ω—å)

- [ ] **–®–∞–≥ 2.1:** –°–æ–∑–¥–∞—Ç—å `services/catalogService.ts`
```typescript
export class CatalogService {
  async loadCategories() { }
  async loadSubcategories(categoryId: string) { }
  async loadProducts(category: string, subcategory?: string) { }
}
```

- [ ] **–®–∞–≥ 2.2:** –°–æ–∑–¥–∞—Ç—å `services/supplierService.ts`
```typescript
export class SupplierService {
  async loadSuppliers(room: 'orange' | 'blue') { }
  async addSupplier(data: SupplierData) { }
  async updateSupplier(id: string, data: SupplierData) { }
  async deleteSupplier(id: string) { }
}
```

- [ ] **–®–∞–≥ 2.3:** –ó–∞–º–µ–Ω–∏—Ç—å –ø—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã supabase –Ω–∞ —Å–µ—Ä–≤–∏—Å—ã

### –§–ê–ó–ê 3: –°–û–ó–î–ê–ù–ò–ï –•–£–ö–û–í (1 –¥–µ–Ω—å)

- [ ] **–®–∞–≥ 3.1:** –°–æ–∑–¥–∞—Ç—å `hooks/useCategories.ts`
- [ ] **–®–∞–≥ 3.2:** –°–æ–∑–¥–∞—Ç—å `hooks/useSubcategories.ts`
- [ ] **–®–∞–≥ 3.3:** –°–æ–∑–¥–∞—Ç—å `hooks/useSuppliers.ts`
- [ ] **–®–∞–≥ 3.4:** –°–æ–∑–¥–∞—Ç—å `hooks/useProducts.ts`

### –§–ê–ó–ê 4: –í–´–î–ï–õ–ï–ù–ò–ï –ö–û–ú–ü–û–ù–ï–ù–¢–û–í (2 –¥–Ω—è)

- [ ] **–®–∞–≥ 4.1:** –í—ã–Ω–µ—Å—Ç–∏ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
  - [ ] `components/catalog/modals/AddSupplierModal.tsx`
  - [ ] `components/catalog/modals/ImportFromCatalogModal.tsx`
  - [ ] `components/catalog/modals/AccreditationModal.tsx`
  - [ ] `components/catalog/modals/SupplierDetailsModal.tsx`

- [ ] **–®–∞–≥ 4.2:** –í—ã–Ω–µ—Å—Ç–∏ –∫–∞—Ä—Ç–æ—á–∫–∏
  - [ ] `components/catalog/cards/SupplierCard.tsx`
  - [ ] `components/catalog/cards/CategoryCard.tsx`
  - [ ] `components/catalog/cards/SubcategoryCard.tsx`

- [ ] **–®–∞–≥ 4.3:** –í—ã–Ω–µ—Å—Ç–∏ —Ñ–∏–ª—å—Ç—Ä—ã
  - [ ] `components/catalog/filters/SearchBar.tsx`
  - [ ] `components/catalog/filters/FilterPanel.tsx`
  - [ ] `components/catalog/filters/SortOptions.tsx`

### –§–ê–ó–ê 5: –°–û–ó–î–ê–ù–ò–ï –ö–û–ù–¢–ï–ö–°–¢–ê (1 –¥–µ–Ω—å)

- [ ] **–®–∞–≥ 5.1:** –°–æ–∑–¥–∞—Ç—å `contexts/CatalogContext.tsx`
- [ ] **–®–∞–≥ 5.2:** –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç
- [ ] **–®–∞–≥ 5.3:** –û–±–µ—Ä–Ω—É—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ Provider

### –§–ê–ó–ê 6: –§–ò–ù–ê–õ–¨–ù–ê–Ø –°–ë–û–†–ö–ê (1 –¥–µ–Ω—å)

- [ ] **–®–∞–≥ 6.1:** –û–±–Ω–æ–≤–∏—Ç—å page.tsx (–¥–æ–ª–∂–Ω–æ –æ—Å—Ç–∞—Ç—å—Å—è ~200 —Å—Ç—Ä–æ–∫)
- [ ] **–®–∞–≥ 6.2:** –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–¥
- [ ] **–®–∞–≥ 6.3:** –î–æ–±–∞–≤–∏—Ç—å error boundaries
- [ ] **–®–∞–≥ 6.4:** –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã
- [ ] **–®–∞–≥ 6.5:** –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

---

## üîç –ü–†–û–í–ï–†–ö–ò –ü–û–°–õ–ï –ö–ê–ñ–î–û–ì–û –®–ê–ì–ê

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã:
- [ ] –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- [ ] –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- [ ] –¢–æ–≤–∞—Ä—ã —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ø–æ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ò–º–ø–æ—Ä—Ç –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏
- [ ] –ù–µ—Ç TypeScript –æ—à–∏–±–æ–∫
- [ ] –ù–µ—Ç ESLint warnings
- [ ] –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ —É—Ö—É–¥—à–∏–ª–∞—Å—å
- [ ] –†–∞–∑–º–µ—Ä –±–∞–Ω–¥–ª–∞ –Ω–µ —É–≤–µ–ª–∏—á–∏–ª—Å—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏

---

## üõ°Ô∏è –ü–†–ê–í–ò–õ–ê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò

1. **–í–°–ï–ì–î–ê** —Å–æ–∑–¥–∞–≤–∞—Ç—å feature branch –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
2. **–ù–ò–ö–û–ì–î–ê** –Ω–µ —É–¥–∞–ª—è—Ç—å –∫–æ–¥ —Å –º–∞—Ä–∫–µ—Ä–æ–º üî¥ CRITICAL
3. **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. **–í–°–ï–ì–î–ê** –∫–æ–º–º–∏—Ç–∏—Ç—å –º–∞–ª—ã–º–∏ –ø–æ—Ä—Ü–∏—è–º–∏ —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
5. **–ù–ò–ö–û–ì–î–ê** –Ω–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –±–æ–ª—å—à–µ –æ–¥–Ω–æ–≥–æ –º–æ–¥—É–ª—è –∑–∞ —Ä–∞–∑

---

## üìä –ú–ï–¢–†–ò–ö–ò –£–°–ü–ï–•–ê

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ | –¶–µ–ª—å | –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å |
|---------|-----------------|------|----------------|
| –†–∞–∑–º–µ—Ä page.tsx | 5436 —Å—Ç—Ä–æ–∫ | < 300 —Å—Ç—Ä–æ–∫ | 5436 —Å—Ç—Ä–æ–∫ |
| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–¥—É–ª–µ–π | 1 | > 15 | 1 |
| –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ | 0% | > 80% | 0% |
| –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ | ? | -30% | ? |
| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–≥–æ–≤ | 5+ | 0 | 5+ |

---

## üöÄ –ö–û–ú–ê–ù–î–´ –î–õ–Ø –ó–ê–ü–£–°–ö–ê

```bash
# –°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É –¥–ª—è —Ö–æ—Ç—Ñ–∏–∫—Å–∞
git checkout -b fix/subcategory-display

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
npm test

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∏–ø—ã
npm run type-check

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–∏–Ω—Ç–µ—Ä
npm run lint

# –ó–∞–ø—É—Å—Ç–∏—Ç—å dev —Å–µ—Ä–≤–µ—Ä
npm run dev

# –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–¥–∞–∫—à–Ω
npm run build
```

---

## üìÖ –í–†–ï–ú–ï–ù–ù–ê–Ø –û–¶–ï–ù–ö–ê

| –§–∞–∑–∞ | –û—Ü–µ–Ω–∫–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|------|--------|-----------|
| **–§–ê–ó–ê 1: –•–æ—Ç—Ñ–∏–∫—Å** | 1-2 —á–∞—Å–∞ | üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô |
| **–§–ê–ó–ê 2: –°–µ—Ä–≤–∏—Å—ã** | 1 –¥–µ–Ω—å | üü° –í—ã—Å–æ–∫–∏–π |
| **–§–ê–ó–ê 3: –•—É–∫–∏** | 1 –¥–µ–Ω—å | üü° –í—ã—Å–æ–∫–∏–π |
| **–§–ê–ó–ê 4: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** | 2 –¥–Ω—è | üü¢ –°—Ä–µ–¥–Ω–∏–π |
| **–§–ê–ó–ê 5: –ö–æ–Ω—Ç–µ–∫—Å—Ç** | 1 –¥–µ–Ω—å | üü¢ –°—Ä–µ–¥–Ω–∏–π |
| **–§–ê–ó–ê 6: –§–∏–Ω–∞–ª** | 1 –¥–µ–Ω—å | üü¢ –°—Ä–µ–¥–Ω–∏–π |
| **–ò–¢–û–ì–û** | ~7 –¥–Ω–µ–π | |

---

## üìù –ó–ê–ú–ï–¢–ö–ò

- –ù–∞—á–∏–Ω–∞—Ç—å –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —Å –§–∞–∑—ã 1 (—Ö–æ—Ç—Ñ–∏–∫—Å)
- –§–∞–∑—ã 2-6 –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Ä–∞–∑–Ω—ã–º–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏
- –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã –¥–µ–ª–∞—Ç—å code review
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å API

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 29.11.2024
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤ –∫ –Ω–∞—á–∞–ª—É —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** [–ò–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞]