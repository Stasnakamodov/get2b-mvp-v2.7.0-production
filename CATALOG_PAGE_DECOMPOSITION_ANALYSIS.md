# –î–ï–¢–ê–õ–¨–ù–´–ô –ê–ù–ê–õ–ò–ó CATALOG PAGE –î–õ–Ø –ë–ï–ó–û–ü–ê–°–ù–û–ô –î–ï–ö–û–ú–ü–û–ó–ò–¶–ò–ò

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2025-11-29  
**–§–∞–π–ª:** `/Users/user/Desktop/godplisgomvp-forvercel/app/dashboard/catalog/page.tsx`  
**–†–∞–∑–º–µ—Ä:** 5436 —Å—Ç—Ä–æ–∫, 293.6 KB

---

## 1. –ê–ù–ê–õ–ò–ó –°–¢–†–£–ö–¢–£–†–´ (–ß–¢–û –ï–°–¢–¨ –í –§–ê–ô–õ–ï)

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:

```
- –û–±—â–∏–π —Ä–∞–∑–º–µ—Ä: 5436 —Å—Ç—Ä–æ–∫ (293.6 KB) - –ö–†–ò–¢–ò–ß–ù–û –ë–û–õ–¨–®–û–ô!
- useState —Ö—É–∫–æ–≤: 53 —à—Ç. (–Ω–æ—Ä–º–∞: 5-10)
- useEffect —Ö—É–∫–æ–≤: 10 —à—Ç. (–Ω–æ—Ä–º–∞: 2-5)
- –§—É–Ω–∫—Ü–∏–π/—Ö–µ–Ω–¥–ª–µ—Ä–æ–≤: 28+ —Ñ—É–Ω–∫—Ü–∏–π
- API –≤—ã–∑–æ–≤–æ–≤ (fetch): 17 –≤—ã–∑–æ–≤–æ–≤
- Handler —Ñ—É–Ω–∫—Ü–∏–π: 15+ —Ñ—É–Ω–∫—Ü–∏–π
```

### –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–∏ –∫–æ–¥–∞:

#### –ë–õ–û–ö 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è (—Å—Ç—Ä–æ–∫–∏ 1-715)
- –ò–º–ø–æ—Ä—Ç—ã (—Å—Ç—Ä–æ–∫–∏ 1-14)
- 53 useState —Ö—É–∫–∞
- –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (supplierSteps, categories)
- –ú–∞—Å—Å–∏–≤–Ω–∞—è —Ñ–æ—Ä–º–∞ supplierFormData —Å 30+ –ø–æ–ª—è–º–∏

#### –ë–õ–û–ö 2: API —Ñ—É–Ω–∫—Ü–∏–∏ (—Å—Ç—Ä–æ–∫–∏ 54-446)
- `loadSuppliersFromAPI()` - –∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
- `loadVerifiedSuppliersFromAPI()` - –∑–∞–≥—Ä—É–∑–∫–∞ –∞–∫–∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–Ω—ã—Ö
- `loadCategoriesFromAPI()` - –∑–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- `loadRecommendations()` - —É–º–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- `loadSupplierProducts()` - —Ç–æ–≤–∞—Ä—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
- `loadEchoCards()` - —ç—Ö–æ –∫–∞—Ä—Ç–æ—á–∫–∏
- `importSupplierFromEchoCard()` - –∏–º–ø–æ—Ä—Ç –∏–∑ —ç—Ö–æ –∫–∞—Ä—Ç–æ—á–∫–∏

#### –ë–õ–û–ö 3: useEffect'—ã (—Å—Ç—Ä–æ–∫–∏ 28-627)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ Supabase –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
- –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ö–æ—Ä–∑–∏–Ω–∞ (localStorage sync)

#### –ë–õ–û–ö 4: –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (—Å—Ç—Ä–æ–∫–∏ 629-1880)
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ (`validateSupplierStep`)
- –†–∞–±–æ—Ç–∞ —Å —Ñ–æ—Ä–º–æ–π –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (7 —à–∞–≥–æ–≤)
- –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –ª–æ–≥–æ—Ç–∏–ø–æ–≤
- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏
- –†–∞–±–æ—Ç–∞ —Å –∫–æ—Ä–∑–∏–Ω–æ–π (add/remove/update)

#### –ë–õ–û–ö 5: –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (—Å—Ç—Ä–æ–∫–∏ 1000-1900)
- `isSupplierInPersonalList()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- `handleAddSupplierToPersonal()` - –∏–º–ø–æ—Ä—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
- `handleLogoUpload()` - –∑–∞–≥—Ä—É–∑–∫–∞ –ª–æ–≥–æ—Ç–∏–ø–∞
- `handleSubmitSupplier()` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤

#### –ë–õ–û–ö 6: JSX —Ä–∞–∑–º–µ—Ç–∫–∞ (—Å—Ç—Ä–æ–∫–∏ 2001-5436)
- Header –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- –†–µ–∂–∏–º "–ø–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º"
- –†–µ–∂–∏–º "–ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º"
- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ (AddSupplier, EchoCards, Cart, Product)
- –ö–∞—Ä—Ç–æ—á–∫–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ (inline JSX –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)

---

## 2. –ë–ï–ó–û–ü–ê–°–ù–´–ï –î–õ–Ø –í–´–ù–û–°–ê –ú–û–î–£–õ–ò (0% –†–ò–°–ö–ê)

### 2.1. –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
**–§–∞–π–ª:** `constants/catalog.constants.ts`

```typescript
// ‚úÖ –ú–û–ñ–ù–û –í–´–ù–û–°–ò–¢–¨ –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°
export const productsPerPage = 8
export const allowedImageTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/svg+xml']
export const maxImageSize = 5 * 1024 * 1024 // 5MB

export const supplierSteps = [
  { id: 1, title: '–û–°–ù–û–í–ù–ê–Ø', description: '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è', icon: Building },
  { id: 2, title: '–ö–û–ù–¢–ê–ö–¢–´', description: '–°–≤—è–∑—å', icon: Phone },
  { id: 3, title: '–ü–†–û–§–ò–õ–¨', description: '–ë–∏–∑–Ω–µ—Å', icon: Users },
  { id: 4, title: '–°–ï–†–¢–ò–§–ò–ö–ê–¶–ò–ò', description: '–î–æ–∫—É–º–µ–Ω—Ç—ã', icon: CheckCircle },
  { id: 5, title: '–¢–û–í–ê–†–´', description: '–ö–∞—Ç–∞–ª–æ–≥', icon: Package },
  { id: 6, title: '–†–ï–ö–í–ò–ó–ò–¢–´', description: '–ü–ª–∞—Ç–µ–∂–∏', icon: Zap },
  { id: 7, title: '–ü–†–ï–í–¨–Æ', description: '–§–∏–Ω–∞–ª', icon: CheckCircle }
]

export const categories = [
  { value: 'all', label: '–í–°–ï –ö–ê–¢–ï–ì–û–†–ò–ò' },
  { value: 'electronics', label: '–≠–õ–ï–ö–¢–†–û–ù–ò–ö–ê' },
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
]
```

**–†–∏—Å–∫:** 0%  
**–í—Ä–µ–º—è:** 5 –º–∏–Ω—É—Ç

### 2.2. –£—Ç–∏–ª–∏—Ç—ã
**–§–∞–π–ª:** `utils/catalog.utils.ts`

```typescript
// ‚úÖ –ú–û–ñ–ù–û –í–´–ù–û–°–ò–¢–¨ –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°
export const toRoman = (num: number): string => {
  const romans = ['I', 'II', 'III', 'IV', 'V', 'VI', 'VII', 'VIII', 'IX', 'X']
  return romans[num - 1] || String(num)
}

export const convertToBase64 = (file: File): Promise<string> => {
  return new Promise((resolve, reject) => {
    const reader = new FileReader()
    reader.readAsDataURL(file)
    reader.onload = () => resolve(reader.result as string)
    reader.onerror = error => reject(error)
  })
}
```

**–†–∏—Å–∫:** 0%  
**–í—Ä–µ–º—è:** 5 –º–∏–Ω—É—Ç

### 2.3. TypeScript —Ç–∏–ø—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
**–§–∞–π–ª:** `types/catalog.types.ts`

```typescript
// ‚úÖ –ú–û–ñ–ù–û –í–´–ù–û–°–ò–¢–¨ –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°
export interface Supplier {
  id: string
  name: string
  company_name: string
  category: string
  country: string
  city: string
  description: string
  logo_url?: string
  contact_email: string
  contact_phone: string
  website?: string
  contact_person: string
  min_order: string
  response_time: string
  employees: string
  established: string
  certifications: string[]
  specialties: string[]
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
}

export interface Product {
  id: string
  name: string
  price: string
  description: string
  images: string[]
  specifications: {[key: string]: string}
  category: string
  inStock: boolean
  minOrder: string
}

export interface CartItem {
  id: string
  name: string
  price: number
  quantity: number
  total_price: number
  supplier_name: string
  supplier_id: string
  images: string[]
  currency: string
}

export interface EchoCard {
  supplier_key: string
  supplier_info: any
  products: any[]
  products_detailed?: any[]
  statistics: {
    total_projects: number
    success_rate: number
    total_spent: number
    products_count: number
  }
  extraction_info: {
    completeness_score: number
    needs_manual_review: boolean
  }
}

export type CatalogMode = 'suppliers' | 'categories'
export type SelectedRoom = 'orange' | 'blue'
export type ModalTab = 'info' | 'products' | 'management'
```

**–†–∏—Å–∫:** 0%  
**–í—Ä–µ–º—è:** 10 –º–∏–Ω—É—Ç

---

## 3. –ú–û–î–£–õ–ò –° –ù–ò–ó–ö–ò–ú –†–ò–°–ö–û–ú (–¢–†–ï–ë–£–Æ–¢ –ù–ï–ë–û–õ–¨–®–û–ô –ü–û–î–ì–û–¢–û–í–ö–ò)

### 3.1. –°–µ—Ä–≤–∏—Å—ã API
**–§–∞–π–ª:** `services/supplierService.ts`

```typescript
// ‚ö†Ô∏è –ù–ò–ó–ö–ò–ô –†–ò–°–ö - –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å token/session
export class SupplierService {
  static async loadUserSuppliers(session: any) {
    const response = await fetch('/api/catalog/user-suppliers', {
      headers: { 'Authorization': `Bearer ${session.access_token}` }
    })
    return response.json()
  }

  static async loadVerifiedSuppliers() {
    const response = await fetch('/api/catalog/verified-suppliers')
    return response.json()
  }

  static async createSupplier(data: any, session: any) {
    const response = await fetch('/api/catalog/user-suppliers', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${session.access_token}`
      },
      body: JSON.stringify(data)
    })
    return response.json()
  }

  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã
}
```

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- Supabase session (–ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä)
- TypeScript —Ç–∏–ø—ã (—É–∂–µ –≤—ã–Ω–µ—Å–µ–Ω—ã)

**–†–∏—Å–∫:** 15%  
**–í—Ä–µ–º—è:** 30 –º–∏–Ω—É—Ç

### 3.2. –°–µ—Ä–≤–∏—Å –∫–∞—Ç–µ–≥–æ—Ä–∏–π
**–§–∞–π–ª:** `services/categoryService.ts`

```typescript
// ‚ö†Ô∏è –ù–ò–ó–ö–ò–ô –†–ò–°–ö
export class CategoryService {
  static async loadCategories() {
    const response = await fetch('/api/catalog/categories')
    return response.json()
  }

  static async loadSubcategories(categoryId: string) {
    const response = await fetch(`/api/catalog/categories/${categoryId}/subcategories`)
    return response.json()
  }
}
```

**–†–∏—Å–∫:** 10%  
**–í—Ä–µ–º—è:** 15 –º–∏–Ω—É—Ç

### 3.3. –•—É–∫ –∫–æ—Ä–∑–∏–Ω—ã
**–§–∞–π–ª:** `hooks/useCart.ts`

```typescript
// ‚ö†Ô∏è –ù–ò–ó–ö–ò–ô –†–ò–°–ö - –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞
export const useCart = () => {
  const [cart, setCart] = useState<CartItem[]>([])
  const [activeSupplier, setActiveSupplier] = useState<string | null>(null)
  const [cartLoaded, setCartLoaded] = useState(false)

  // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ localStorage
  useEffect(() => {
    if (typeof window !== 'undefined') {
      const savedCart = localStorage.getItem('catalog_cart')
      if (savedCart) {
        setCart(JSON.parse(savedCart))
      }
      setCartLoaded(true)
    }
  }, [])

  // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
  useEffect(() => {
    if (cartLoaded && typeof window !== 'undefined') {
      localStorage.setItem('catalog_cart', JSON.stringify(cart))
    }
  }, [cart, cartLoaded])

  const addToCart = (product: any) => { /* ... */ }
  const removeFromCart = (id: string) => { /* ... */ }
  const updateQuantity = (id: string, qty: number) => { /* ... */ }
  const getTotalItems = () => cart.reduce((sum, item) => sum + item.quantity, 0)
  const getTotalPrice = () => cart.reduce((sum, item) => sum + item.total_price, 0)

  return {
    cart,
    activeSupplier,
    addToCart,
    removeFromCart,
    updateQuantity,
    getTotalItems,
    getTotalPrice
  }
}
```

**–†–∏—Å–∫:** 10%  
**–í—Ä–µ–º—è:** 20 –º–∏–Ω—É—Ç

### 3.4. –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
**–§–∞–π–ª—ã:** `components/SupplierCard.tsx`, `components/ProductCard.tsx`

–≠—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É–∂–µ —á–∞—Å—Ç–∏—á–Ω–æ –≤—ã–Ω–µ—Å–µ–Ω—ã, –Ω–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å.

**–†–∏—Å–∫:** 5%  
**–í—Ä–µ–º—è:** 15 –º–∏–Ω—É—Ç –∫–∞–∂–¥—ã–π

---

## 4. –û–ü–ê–°–ù–´–ï –£–ß–ê–°–¢–ö–ò (–¢–ï–°–ù–ê–Ø –°–í–Ø–ó–ê–ù–ù–û–°–¢–¨)

### 4.1. –í–∑–∞–∏–º–æ–∑–∞–≤–∏—Å–∏–º—ã–µ useState

#### –ì—Ä—É–ø–ø–∞ 1: –§–æ—Ä–º–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (–í–´–°–û–ö–ò–ô –†–ò–°–ö)
```typescript
const [supplierFormData, setSupplierFormData] = useState({ /* 30+ –ø–æ–ª–µ–π */ })
const [supplierFormStep, setSupplierFormStep] = useState(1)
const [maxSupplierStep, setMaxSupplierStep] = useState(1)
const [supplierFormErrors, setSupplierFormErrors] = useState<{[key: string]: string}>({})
const [uploadingImages, setUploadingImages] = useState<{[key: string]: boolean}>({})
const [echoCardForImport, setEchoCardForImport] = useState<any>(null)
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –≠—Ç–∏ 6 —Å–æ—Å—Ç–æ—è–Ω–∏–π —Ç–µ—Å–Ω–æ —Å–≤—è–∑–∞–Ω—ã –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–º–µ—Å—Ç–µ –≤ –≤–∞–ª–∏–¥–∞—Ü–∏–∏, –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏, –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ —à–∞–≥–∞–º.

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞—Ç—å Context + Reducer
```typescript
// context/SupplierFormContext.tsx
interface SupplierFormState {
  formData: SupplierFormData
  step: number
  maxStep: number
  errors: {[key: string]: string}
  uploadingImages: {[key: string]: boolean}
  echoCard: any | null
}

type SupplierFormAction = 
  | { type: 'SET_FIELD'; field: string; value: any }
  | { type: 'NEXT_STEP' }
  | { type: 'PREV_STEP' }
  | { type: 'SET_ERRORS'; errors: {[key: string]: string} }
  | { type: 'IMPORT_ECHO_CARD'; echoCard: any }
  | { type: 'RESET_FORM' }
```

#### –ì—Ä—É–ø–ø–∞ 2: –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ (–°–†–ï–î–ù–ò–ô –†–ò–°–ö)
```typescript
const [catalogMode, setCatalogMode] = useState<'suppliers' | 'categories'>('categories')
const [selectedRoom, setSelectedRoom] = useState<'orange' | 'blue'>('orange')
const [selectedCategoryData, setSelectedCategoryData] = useState<any>(null)
const [selectedSubcategoryData, setSelectedSubcategoryData] = useState<any>(null)
const [selectedSupplier, setSelectedSupplier] = useState<any>(null)
const [showAddSupplierModal, setShowAddSupplierModal] = useState(false)
const [showEchoCardsModal, setShowEchoCardsModal] = useState(false)
const [showCart, setShowCart] = useState(false)
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–æ—Å—Ç–æ—è–Ω–∏—è —Å–≤—è–∑–∞–Ω—ã —á–µ—Ä–µ–∑ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É (–ø—Ä–∏ —Å–º–µ–Ω–µ –∫–æ–º–Ω–∞—Ç—ã —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏).

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞—Ç—å `useCatalogNavigation` hook –∏–ª–∏ Context

#### –ì—Ä—É–ø–ø–∞ 3: –î–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ (–ù–ò–ó–ö–ò–ô –†–ò–°–ö)
```typescript
const [realSuppliers, setRealSuppliers] = useState<any[]>([])
const [verifiedSuppliers, setVerifiedSuppliers] = useState<any[]>([])
const [loadingSuppliers, setLoadingSuppliers] = useState(false)
const [loadingVerified, setLoadingVerified] = useState(false)
```

**–†–µ—à–µ–Ω–∏–µ:** Hook `useSuppliers(room: 'orange' | 'blue')`

### 4.2. –°–ª–æ–∂–Ω—ã–µ useEffect —Å –ø–æ–±–æ—á–Ω—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏

#### –ö–†–ò–¢–ò–ß–ù–´–ô useEffect #1: URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (—Å—Ç—Ä–æ–∫–∏ 213-320)
```typescript
useEffect(() => {
  const params = new URLSearchParams(window.location.search)
  const categoryParam = params.get('category')
  const subcategoryParam = params.get('subcategory')
  const viewParam = params.get('view')

  // –í–ê–†–ò–ê–ù–¢ 1: –ö–ª–∏–∫ –Ω–∞ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—é
  if (categoryParam && subcategoryParam && !viewParam) {
    // –ñ–¥–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ apiCategories —á–µ—Ä–µ–∑ setInterval
    // –î–µ–ª–∞–µ—Ç async –∑–∞–ø—Ä–æ—Å—ã
    // –û–±–Ω–æ–≤–ª—è–µ—Ç selectedCategoryData –∏ selectedSubcategoryData
  }

  // –í–ê–†–ò–ê–ù–¢ 2: –ü–æ–∏—Å–∫ –ø–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é
  if (categoryParam && viewParam === 'products') {
    // –¢–æ–∂–µ –∂–¥–µ—Ç apiCategories
    // –î–µ–ª–∞–µ—Ç async –∑–∞–ø—Ä–æ—Å—ã
    // –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è
  }
}, [apiCategories])
```

**–û–ü–ê–°–ù–û–°–¢–ò:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `setInterval` –¥–ª—è –æ–∂–∏–¥–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (race condition!)
- –ó–∞–≤–∏—Å–∏—Ç –æ—Ç `apiCategories` (–º–æ–∂–µ—Ç –Ω–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è)
- –î–µ–ª–∞–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã–µ async –æ–ø–µ—Ä–∞—Ü–∏–∏
- –û–±–Ω–æ–≤–ª—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ—Å—Ç–æ—è–Ω–∏–π

**–ù–ï–õ–¨–ó–Ø –¢–†–û–ì–ê–¢–¨ –ë–ï–ó:**
1. –ü–æ–ª–Ω–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è flow –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (–ø—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞, –ø–µ—Ä–µ—Ö–æ–¥ –∏–∑ –¥—Ä—É–≥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã)
3. –ú–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω (React Router –∏–ª–∏ Next.js router events)

#### –ö–†–ò–¢–ò–ß–ù–´–ô useEffect #2: –ü—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —ç—Ö–æ –∫–∞—Ä—Ç–æ—á–∫–∏ (—Å—Ç—Ä–æ–∫–∏ 850-989)
```typescript
useEffect(() => {
  if (echoCardForImport && showAddSupplierModal) {
    // 140 —Å—Ç—Ä–æ–∫ –ª–æ–≥–∏–∫–∏ –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è!
    // –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
    // –£—Å–ª–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ (selectedSteps)
    // –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ console.log
    // setTimeout –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
  }
}, [echoCardForImport, showAddSupplierModal])
```

**–û–ü–ê–°–ù–û–°–¢–ò:**
- 140 —Å—Ç—Ä–æ–∫ –≤ –æ–¥–Ω–æ–º useEffect (–∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω!)
- –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–≤—É—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π
- –í–∫–ª—é—á–∞–µ—Ç setTimeout (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å)
- –°–ª–æ–∂–Ω–∞—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

**–†–ï–®–ï–ù–ò–ï:** 
–í—ã–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é, –≤—ã–∑—ã–≤–∞—Ç—å —è–≤–Ω–æ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª–∫–∏.

### 4.3. –§—É–Ω–∫—Ü–∏–∏ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

#### –û–ü–ê–°–ù–ê–Ø —Ñ—É–Ω–∫—Ü–∏—è: handleAddSupplierToPersonal (—Å—Ç—Ä–æ–∫–∏ 1018-1119)
```typescript
const handleAddSupplierToPersonal = async (catalogSupplier: any) => {
  // –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç realSuppliers)
  // –ü–æ–ª—É—á–∞–µ—Ç session –∏–∑ Supabase
  // –î–µ–ª–∞–µ—Ç fetch —Å AbortController
  // –û–±–Ω–æ–≤–ª—è–µ—Ç loadSuppliersFromAPI() (side effect!)
  // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç activeMode (side effect!)
  // –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç alert'—ã
  // –£–ø—Ä–∞–≤–ª—è–µ—Ç loading —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
  // Emergency timeout –¥–ª—è —Å–±—Ä–æ—Å–∞ loading
}
```

**–ó–ê–í–ò–°–ò–ú–û–°–¢–ò:**
- `realSuppliers` (state)
- `setLoading` (state setter)
- `setActiveMode` (state setter)
- `loadSuppliersFromAPI` (—Ñ—É–Ω–∫—Ü–∏—è —Å side effects)
- Supabase client
- window.location.href (side effect!)

**–†–ò–°–ö –ü–†–ò –í–´–ù–û–°–ï:** 95%

#### –û–ü–ê–°–ù–ê–Ø —Ñ—É–Ω–∫—Ü–∏—è: handleSubmitSupplier (—Å—Ç—Ä–æ–∫–∏ 1183-1380)
**–†–∞–∑–º–µ—Ä:** 200+ —Å—Ç—Ä–æ–∫!

```typescript
const handleSubmitSupplier = async () => {
  // –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç supplierFormData
  // –î–µ–ª–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ console.log
  // –ü–æ–ª—É—á–∞–µ—Ç session
  // POST –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
  // –¶–∏–∫–ª –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ (forEach)
  // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—Ö–∞/–æ—à–∏–±–æ–∫
  // –û–±–Ω–æ–≤–ª—è–µ—Ç loadSuppliersFromAPI()
  // –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Ñ–æ—Ä–º—É
  // –ó–∞–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª–∫–∏
  // –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç alert'—ã
}
```

**–ó–ê–í–ò–°–ò–ú–û–°–¢–ò:**
- `supplierFormData` (30+ –ø–æ–ª–µ–π)
- `echoCardForImport` (–¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏)
- `setLoading`
- `loadSuppliersFromAPI`
- `resetSupplierForm`
- `setShowAddSupplierModal`
- Supabase client

**–†–ò–°–ö –ü–†–ò –í–´–ù–û–°–ï:** 90%

---

## 5. –ü–õ–ê–ù –î–ï–ö–û–ú–ü–û–ó–ò–¶–ò–ò (–ü–û–®–ê–ì–û–í–´–ô)

### ‚úÖ –§–ê–ó–ê 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (0% —Ä–∏—Å–∫–∞, 1 —á–∞—Å)

**–¶–µ–ª—å:** –í—ã–Ω–µ—Å—Ç–∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –º–æ–¥—É–ª–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è page.tsx

1. **–°–æ–∑–¥–∞—Ç—å —Ç–∏–ø—ã** (10 –º–∏–Ω)
   ```
   mkdir -p app/dashboard/catalog/types
   touch app/dashboard/catalog/types/catalog.types.ts
   ```

2. **–°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã** (10 –º–∏–Ω)
   ```
   mkdir -p app/dashboard/catalog/constants
   touch app/dashboard/catalog/constants/catalog.constants.ts
   ```

3. **–°–æ–∑–¥–∞—Ç—å —É—Ç–∏–ª–∏—Ç—ã** (10 –º–∏–Ω)
   ```
   mkdir -p app/dashboard/catalog/utils
   touch app/dashboard/catalog/utils/catalog.utils.ts
   ```

4. **–û–±–Ω–æ–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –≤ page.tsx** (30 –º–∏–Ω)
   - –ó–∞–º–µ–Ω–∏—Ç—å inline —Ç–∏–ø—ã –Ω–∞ –∏–º–ø–æ—Ä—Ç—ã
   - –ó–∞–º–µ–Ω–∏—Ç—å inline –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –Ω–∞ –∏–º–ø–æ—Ä—Ç—ã
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–º–ø–∏–ª—è—Ü–∏—é: `npm run build`

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** 
```bash
npm run dev
# –û—Ç–∫—Ä—ã—Ç—å /dashboard/catalog
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ
```

### ‚úÖ –§–ê–ó–ê 2: –°–µ—Ä–≤–∏—Å—ã API (15% —Ä–∏—Å–∫–∞, 2 —á–∞—Å–∞)

**–¶–µ–ª—å:** –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞—Ç—å API –≤—ã–∑–æ–≤—ã

1. **–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å—ã** (60 –º–∏–Ω)
   ```
   mkdir -p app/dashboard/catalog/services
   touch app/dashboard/catalog/services/supplierService.ts
   touch app/dashboard/catalog/services/categoryService.ts
   touch app/dashboard/catalog/services/productService.ts
   touch app/dashboard/catalog/services/echoCardService.ts
   ```

2. **–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ API —Ñ—É–Ω–∫—Ü–∏–∏** (40 –º–∏–Ω)
   - `loadSuppliersFromAPI` ‚Üí `SupplierService.loadUserSuppliers`
   - `loadVerifiedSuppliersFromAPI` ‚Üí `SupplierService.loadVerified`
   - `loadCategoriesFromAPI` ‚Üí `CategoryService.load`
   - –ò —Ç.–¥.

3. **–û–±–Ω–æ–≤–∏—Ç—å –≤—ã–∑–æ–≤—ã –≤ page.tsx** (20 –º–∏–Ω)
   ```typescript
   // –ë—ã–ª–æ:
   const loadSuppliersFromAPI = async () => { /* ... */ }
   
   // –°—Ç–∞–ª–æ:
   import { SupplierService } from './services/supplierService'
   
   const loadSuppliers = async () => {
     const session = await supabase.auth.getSession()
     const data = await SupplierService.loadUserSuppliers(session)
     setRealSuppliers(data.suppliers)
   }
   ```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –í—Å–µ API –≤—ã–∑–æ–≤—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç

### ‚ö†Ô∏è –§–ê–ó–ê 3: –•—É–∫–∏ (20% —Ä–∏—Å–∫–∞, 3 —á–∞—Å–∞)

**–¶–µ–ª—å:** –ò–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ö—É–∫–∏

1. **–°–æ–∑–¥–∞—Ç—å useCart hook** (45 –º–∏–Ω)
   ```
   touch app/dashboard/catalog/hooks/useCart.ts
   ```
   –í—ã–Ω–µ—Å—Ç–∏:
   - `cart`, `setCart`
   - `activeSupplier`, `setActiveSupplier`
   - `addToCart`, `removeFromCart`, `updateCartQuantity`
   - localStorage sync

2. **–°–æ–∑–¥–∞—Ç—å useSuppliers hook** (60 –º–∏–Ω)
   ```
   touch app/dashboard/catalog/hooks/useSuppliers.ts
   ```
   –í—ã–Ω–µ—Å—Ç–∏:
   - `realSuppliers`, `verifiedSuppliers`
   - `loadingSuppliers`, `loadingVerified`
   - `loadSuppliers()`, `loadVerified()`

3. **–°–æ–∑–¥–∞—Ç—å useCategories hook** (45 –º–∏–Ω)
   ```
   touch app/dashboard/catalog/hooks/useCategories.ts
   ```

4. **–û–±–Ω–æ–≤–∏—Ç—å page.tsx** (30 –º–∏–Ω)
   ```typescript
   const { cart, addToCart, removeFromCart, ... } = useCart()
   const { suppliers, loading, loadSuppliers } = useSuppliers('blue')
   ```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –ö–æ—Ä–∑–∏–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç (add/remove/localStorage)
- –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–º–Ω–∞—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç

### üî¥ –§–ê–ó–ê 4: –§–æ—Ä–º–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (50% —Ä–∏—Å–∫–∞, 6 —á–∞—Å–æ–≤)

**–í–ù–ò–ú–ê–ù–ò–ï:** –≠—Ç–æ —Å–∞–º—ã–π –æ–ø–∞—Å–Ω—ã–π —ç—Ç–∞–ø!

**–¶–µ–ª—å:** –í—ã–Ω–µ—Å—Ç–∏ –≥–∏–≥–∞–Ω—Ç—Å–∫—É—é —Ñ–æ—Ä–º—É –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞

1. **–°–æ–∑–¥–∞—Ç—å Context** (90 –º–∏–Ω)
   ```
   mkdir -p app/dashboard/catalog/context
   touch app/dashboard/catalog/context/SupplierFormContext.tsx
   ```

   –°–æ–∑–¥–∞—Ç—å reducer –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–æ—Ä–º–æ–π:
   ```typescript
   interface SupplierFormState {
     formData: SupplierFormData
     step: number
     maxStep: number
     errors: Record<string, string>
     uploadingImages: Record<string, boolean>
     echoCard: EchoCard | null
     loading: boolean
   }
   ```

2. **–í—ã–Ω–µ—Å—Ç–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é** (60 –º–∏–Ω)
   ```
   touch app/dashboard/catalog/utils/supplierFormValidation.ts
   ```
   
   –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ `validateSupplierStep` –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª.

3. **–†–∞–∑–±–∏—Ç—å —Ñ–æ—Ä–º—É –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** (120 –º–∏–Ω)
   –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É–∂–µ —á–∞—Å—Ç–∏—á–Ω–æ —Å–æ–∑–¥–∞–Ω—ã:
   - `AddSupplierStep1.tsx` ‚úÖ
   - `AddSupplierStep2.tsx` ‚úÖ
   - `AddSupplierStep3.tsx` ‚úÖ
   - `AddSupplierStep4.tsx` ‚úÖ
   
   –ù—É–∂–Ω–æ:
   - –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫ Context
   - –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é –º–µ–∂–¥—É —à–∞–≥–∞–º–∏

4. **–ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å useEffect –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è** (90 –º–∏–Ω)
   
   **–ö–†–ò–¢–ò–ß–ù–û!** –≠—Ç–æ—Ç useEffect (—Å—Ç—Ä–æ–∫–∏ 850-989) –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å:
   
   ```typescript
   // –ë—ã–ª–æ: useEffect —Å 140 —Å—Ç—Ä–æ–∫–∞–º–∏
   useEffect(() => {
     if (echoCardForImport && showAddSupplierModal) {
       // 140 —Å—Ç—Ä–æ–∫...
     }
   }, [echoCardForImport, showAddSupplierModal])
   
   // –°—Ç–∞–ª–æ: –Ø–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
   const prefillFromEchoCard = (echoCard: EchoCard) => {
     const transformedData = transformEchoCardToFormData(echoCard)
     dispatch({ type: 'IMPORT_ECHO_CARD', data: transformedData })
   }
   
   // –í—ã–∑–æ–≤ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª–∫–∏:
   const handleImportEchoCard = (echoCard: EchoCard) => {
     resetForm()
     prefillFromEchoCard(echoCard)
     setShowAddSupplierModal(true)
   }
   ```

5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** (60 –º–∏–Ω)
   - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (–≤—Å–µ 7 —à–∞–≥–æ–≤)
   - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
   - –ò–º–ø–æ—Ä—Ç –∏–∑ —ç—Ö–æ –∫–∞—Ä—Ç–æ—á–∫–∏
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤
   - –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ

**–†–ò–°–ö–ò:**
- –ú–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å—Å—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —à–∞–≥–∞–º
- –ú–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å—Å—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
- –ú–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å—Å—è –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–∑ —ç—Ö–æ –∫–∞—Ä—Ç–æ—á–∫–∏
- –ú–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å—Å—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–ü–õ–ê–ù –ë:** –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–µ—Ç—Å—è, –æ—Ç–∫–∞—Ç–∏—Ç—å —á–µ—Ä–µ–∑ git:
```bash
git checkout -- app/dashboard/catalog/page.tsx
```

### üî¥ –§–ê–ó–ê 5: –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ (30% —Ä–∏—Å–∫–∞, 4 —á–∞—Å–∞)

**–¶–µ–ª—å:** –í—ã–Ω–µ—Å—Ç–∏ –±–æ–ª—å—à–∏–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. **–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —ç—Ö–æ –∫–∞—Ä—Ç–æ—á–µ–∫** (90 –º–∏–Ω)
   ```
   touch app/dashboard/catalog/components/EchoCardsModal.tsx
   ```
   
   –í—ã–Ω–µ—Å—Ç–∏ JSX –∏–∑ page.tsx (—Å—Ç—Ä–æ–∫–∏ 4900-5277)

2. **–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–æ—Ä–∑–∏–Ω—ã** (60 –º–∏–Ω)
   ```
   touch app/dashboard/catalog/components/CartModal.tsx
   ```
   
   –í—ã–Ω–µ—Å—Ç–∏ JSX (—Å—Ç—Ä–æ–∫–∏ 5282-5420)

3. **–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ç–æ–≤–∞—Ä–∞** (45 –º–∏–Ω)
   ```
   touch app/dashboard/catalog/components/ProductModal.tsx
   ```

4. **–û–±–Ω–æ–≤–∏—Ç—å page.tsx** (45 –º–∏–Ω)
   ```typescript
   <EchoCardsModal 
     isOpen={showEchoCardsModal}
     onClose={() => setShowEchoCardsModal(false)}
     echoCards={echoCards}
     onImport={handleImportEchoCard}
   />
   ```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –û—Ç–∫—Ä—ã—Ç–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–æ–∫
- –ò–º–ø–æ—Ä—Ç –∏–∑ —ç—Ö–æ –∫–∞—Ä—Ç–æ—á–∫–∏
- –ö–æ—Ä–∑–∏–Ω–∞ (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞)

### ‚ö†Ô∏è –§–ê–ó–ê 6: URL –Ω–∞–≤–∏–≥–∞—Ü–∏—è (60% —Ä–∏—Å–∫–∞, 4 —á–∞—Å–∞)

**–û–ü–ê–°–ù–û!** –≠—Ç–æ—Ç useEffect (—Å—Ç—Ä–æ–∫–∏ 213-320) - –±–æ–º–±–∞ –∑–∞–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è.

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
useEffect(() => {
  // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç setInterval –¥–ª—è –æ–∂–∏–¥–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
  const checkAndSelectCategory = setInterval(() => {
    if (apiCategories.length > 0) {
      // ...–¥–µ–ª–∞–µ—Ç async –æ–ø–µ—Ä–∞—Ü–∏–∏
    }
  }, 100)
  
  setTimeout(() => clearInterval(...), 5000)
}, [apiCategories])
```

**–†–µ—à–µ–Ω–∏–µ:**
1. **–°–æ–∑–¥–∞—Ç—å —Ö—É–∫ useURLParams** (120 –º–∏–Ω)
   ```typescript
   const useURLParams = (categories: Category[]) => {
     const searchParams = useSearchParams()
     
     useEffect(() => {
       if (categories.length === 0) return // –ñ–¥–µ–º –∑–∞–≥—Ä—É–∑–∫–∏
       
       const categoryParam = searchParams.get('category')
       const subcategoryParam = searchParams.get('subcategory')
       
       if (categoryParam && subcategoryParam) {
         handleCategoryFromURL(categoryParam, subcategoryParam)
       }
     }, [categories, searchParams])
   }
   ```

2. **–£–±—Ä–∞—Ç—å setInterval** (60 –º–∏–Ω)
   –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —É—Å–ª–æ–≤–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –≤ useEffect

3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏** (120 –º–∏–Ω)
   - –ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π
   - –ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ —Å –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π
   - –ü–µ—Ä–µ—Ö–æ–¥ –∏–∑ –ø–æ–∏—Å–∫–∞ –ø–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é
   - –ö–ª–∏–∫ –ø–æ dropdown –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏

**–†–ò–°–ö:** 60% - –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å—Å—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∏–∑ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü

### ‚úÖ –§–ê–ó–ê 7: –§–∏–Ω–∞–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (10% —Ä–∏—Å–∫–∞, 2 —á–∞—Å–∞)

**–¶–µ–ª—å:** –£–±—Ä–∞—Ç—å –æ—Å—Ç–∞–≤—à–∏–π—Å—è inline JSX

1. **–í—ã–Ω–µ—Å—Ç–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤** (60 –º–∏–Ω)
   –£–∂–µ –µ—Å—Ç—å `SupplierCard.tsx`, —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ–∑–¥–µ

2. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥** (30 –º–∏–Ω)
   ```typescript
   const MemoizedSupplierCard = React.memo(SupplierCard)
   ```

3. **–î–æ–±–∞–≤–∏—Ç—å React.lazy –¥–ª—è –º–æ–¥–∞–ª–æ–∫** (30 –º–∏–Ω)
   ```typescript
   const EchoCardsModal = lazy(() => import('./components/EchoCardsModal'))
   ```

---

## 6. –¶–ï–õ–ï–í–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

```
/app/dashboard/catalog/
‚îú‚îÄ‚îÄ page.tsx                      # üéØ –ì–õ–ê–í–ù–´–ô –§–ê–ô–õ (~400 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îî‚îÄ‚îÄ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
‚îÇ
‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îî‚îÄ‚îÄ catalog.types.ts          # ‚úÖ TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
‚îÇ
‚îú‚îÄ‚îÄ constants/
‚îÇ   ‚îî‚îÄ‚îÄ catalog.constants.ts      # ‚úÖ –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ catalog.utils.ts          # ‚úÖ –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ supplierFormValidation.ts # ‚ö†Ô∏è –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
‚îÇ
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ supplierService.ts        # ‚ö†Ô∏è API –¥–ª—è –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ categoryService.ts        # ‚ö†Ô∏è API –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ productService.ts         # ‚ö†Ô∏è API –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ echoCardService.ts        # ‚ö†Ô∏è API –¥–ª—è —ç—Ö–æ –∫–∞—Ä—Ç–æ—á–µ–∫
‚îÇ
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îú‚îÄ‚îÄ useCart.ts                # ‚ö†Ô∏è –õ–æ–≥–∏–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ useSuppliers.ts           # ‚ö†Ô∏è –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ useCategories.ts          # ‚ö†Ô∏è –ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ useURLParams.ts           # üî¥ URL –Ω–∞–≤–∏–≥–∞—Ü–∏—è (–û–ü–ê–°–ù–û!)
‚îÇ   ‚îú‚îÄ‚îÄ useSupplierDraft.ts       # ‚úÖ –£–ñ–ï –°–£–©–ï–°–¢–í–£–ï–¢
‚îÇ   ‚îî‚îÄ‚îÄ useCatalogOptimization.ts # ‚úÖ –£–ñ–ï –°–£–©–ï–°–¢–í–£–ï–¢
‚îÇ
‚îú‚îÄ‚îÄ context/
‚îÇ   ‚îú‚îÄ‚îÄ SupplierFormContext.tsx   # üî¥ –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ñ–æ—Ä–º—ã (–°–õ–û–ñ–ù–û!)
‚îÇ   ‚îî‚îÄ‚îÄ AddSupplierContext.tsx    # ‚úÖ –£–ñ–ï –°–£–©–ï–°–¢–í–£–ï–¢
‚îÇ
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ CatalogHeader.tsx         # ‚úÖ –£–ñ–ï –°–£–©–ï–°–¢–í–£–ï–¢
‚îÇ   ‚îú‚îÄ‚îÄ SupplierCard.tsx          # ‚úÖ –£–ñ–ï –°–£–©–ï–°–¢–í–£–ï–¢
‚îÇ   ‚îú‚îÄ‚îÄ ProductCard.tsx           # ‚úÖ –£–ñ–ï –°–£–©–ï–°–¢–í–£–ï–¢
‚îÇ   ‚îú‚îÄ‚îÄ SupplierGrid.tsx          # ‚úÖ –£–ñ–ï –°–£–©–ï–°–¢–í–£–ï–¢
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ AddSupplierModal.tsx      # ‚úÖ –£–ñ–ï –°–£–©–ï–°–¢–í–£–ï–¢
‚îÇ   ‚îú‚îÄ‚îÄ AddSupplierStepper.tsx    # ‚úÖ –£–ñ–ï –°–£–©–ï–°–¢–í–£–ï–¢
‚îÇ   ‚îú‚îÄ‚îÄ AddSupplierStep1.tsx      # ‚úÖ –£–ñ–ï –°–£–©–ï–°–¢–í–£–ï–¢
‚îÇ   ‚îú‚îÄ‚îÄ AddSupplierStep2.tsx      # ‚úÖ –£–ñ–ï –°–£–©–ï–°–¢–í–£–ï–¢
‚îÇ   ‚îú‚îÄ‚îÄ AddSupplierStep3.tsx      # ‚úÖ –£–ñ–ï –°–£–©–ï–°–¢–í–£–ï–¢
‚îÇ   ‚îú‚îÄ‚îÄ AddSupplierStep4.tsx      # ‚úÖ –£–ñ–ï –°–£–©–ï–°–¢–í–£–ï–¢
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ EchoCardsModal.tsx        # ‚ö†Ô∏è –ù—É–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ CartModal.tsx             # ‚ö†Ô∏è –ù—É–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ ProductModal.tsx          # ‚ö†Ô∏è –ù—É–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ AccreditationModal.tsx    # ‚úÖ –£–ñ–ï –°–£–©–ï–°–¢–í–£–ï–¢
‚îÇ   ‚îî‚îÄ‚îÄ TemplateManager.tsx       # ‚úÖ –£–ñ–ï –°–£–©–ï–°–¢–í–£–ï–¢
‚îÇ
‚îî‚îÄ‚îÄ modals/                       # üÜï –ù–û–í–ê–Ø –ü–ê–ü–ö–ê –î–õ–Ø –ú–û–î–ê–õ–û–ö
    ‚îú‚îÄ‚îÄ EchoCardsModal.tsx
    ‚îú‚îÄ‚îÄ CartModal.tsx
    ‚îî‚îÄ‚îÄ ProductModal.tsx
```

**–§–ò–ù–ê–õ–¨–ù–´–ô page.tsx (~400 —Å—Ç—Ä–æ–∫):**

```typescript
'use client'

import { useState } from 'react'
import { useRouter } from 'next/navigation'

// –•—É–∫–∏
import { useCart } from './hooks/useCart'
import { useSuppliers } from './hooks/useSuppliers'
import { useCategories } from './hooks/useCategories'
import { useURLParams } from './hooks/useURLParams'

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
import { CatalogHeader } from './components/CatalogHeader'
import { SupplierGrid } from './components/SupplierGrid'
import { AddSupplierModal } from './components/AddSupplierModal'
import { EchoCardsModal } from './modals/EchoCardsModal'
import { CartModal } from './modals/CartModal'

// –ö–æ–Ω—Ç–µ–∫—Å—Ç—ã
import { SupplierFormProvider } from './context/SupplierFormContext'

// –¢–∏–ø—ã
import type { CatalogMode, SelectedRoom } from './types/catalog.types'

export default function CatalogPage() {
  const router = useRouter()
  
  // –ù–∞–≤–∏–≥–∞—Ü–∏—è
  const [catalogMode, setCatalogMode] = useState<CatalogMode>('categories')
  const [selectedRoom, setSelectedRoom] = useState<SelectedRoom>('orange')
  
  // –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
  const [showAddSupplier, setShowAddSupplier] = useState(false)
  const [showEchoCards, setShowEchoCards] = useState(false)
  
  // –•—É–∫–∏
  const { suppliers, loading, loadSuppliers } = useSuppliers(selectedRoom)
  const { categories } = useCategories()
  const { cart, showCart, setShowCart, addToCart, ... } = useCart()
  
  // URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
  useURLParams(categories)

  return (
    <SupplierFormProvider>
      <div className="min-h-screen bg-background">
        <CatalogHeader 
          suppliersCount={suppliers.length}
          cartCount={cart.length}
          onAddSupplier={() => setShowAddSupplier(true)}
          onShowCart={() => setShowCart(true)}
          onShowEchoCards={() => setShowEchoCards(true)}
        />
        
        {/* –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ –∫–æ–Ω—Ç–µ–Ω—Ç */}
        <div className="max-w-7xl mx-auto px-8 py-12">
          {catalogMode === 'suppliers' ? (
            <SupplierGrid 
              suppliers={suppliers}
              loading={loading}
              room={selectedRoom}
            />
          ) : (
            <CategoryView 
              categories={categories}
              room={selectedRoom}
            />
          )}
        </div>

        {/* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */}
        <AddSupplierModal 
          isOpen={showAddSupplier}
          onClose={() => setShowAddSupplier(false)}
        />
        
        <EchoCardsModal 
          isOpen={showEchoCards}
          onClose={() => setShowEchoCards(false)}
        />
        
        <CartModal 
          isOpen={showCart}
          onClose={() => setShowCart(false)}
        />
      </div>
    </SupplierFormProvider>
  )
}
```

---

## 7. –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–Ø –û –†–ò–°–ö–ê–•

### üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –†–ò–°–ö–ò

#### 1. Race Conditions –≤ URL –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
**–ü—Ä–æ–±–ª–µ–º–∞:** useEffect —Å setInterval –∂–¥–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ `apiCategories`

**–°—Ü–µ–Ω–∞—Ä–∏–π –ø–æ–ª–æ–º–∫–∏:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –ø–æ –ø—Ä—è–º–æ–π —Å—Å—ã–ª–∫–µ `/catalog?category=X&subcategory=Y`
2. –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –µ—â–µ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å
3. setInterval –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 100–º—Å
4. –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ 500–º—Å
5. setInterval —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç, –Ω–∞—Ö–æ–¥–∏—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—é
6. –ù–û! –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—ã—Å—Ç—Ä–æ –∫–ª–∏–∫–Ω–µ—Ç –Ω–∞ –¥—Ä—É–≥—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é, –±—É–¥–µ—Ç conflict

**–ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω useEffect —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π `if (categories.length === 0) return`
- –£–±—Ä–∞—Ç—å setInterval
- –î–æ–±–∞–≤–∏—Ç—å —Ñ–ª–∞–≥ `hasProcessedURLParams` —á—Ç–æ–±—ã –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑

#### 2. –ü—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã –∏–∑ —ç—Ö–æ –∫–∞—Ä—Ç–æ—á–∫–∏
**–ü—Ä–æ–±–ª–µ–º–∞:** 140 —Å—Ç—Ä–æ–∫ –ª–æ–≥–∏–∫–∏ –≤ useEffect

**–°—Ü–µ–Ω–∞—Ä–∏–π –ø–æ–ª–æ–º–∫–∏:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —ç—Ö–æ –∫–∞—Ä—Ç–æ—á–∫—É –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞
2. useEffect –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—ã—Å—Ç—Ä–æ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª–∫—É
4. –ù–û useEffect –µ—â–µ –Ω–µ –∑–∞–∫–æ–Ω—á–∏–ª (setTimeout –≤–Ω—É—Ç—Ä–∏!)
5. –°–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª–∫–∏
6. –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª–∫–∏ —Ñ–æ—Ä–º–∞ –≤ –Ω–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏

**–ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å:**
- –í—ã–Ω–µ—Å—Ç–∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –ß–ò–°–¢–£–Æ —Ñ—É–Ω–∫—Ü–∏—é
- –í—ã–∑—ã–≤–∞—Ç—å —è–≤–Ω–æ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –∏–º–ø–æ—Ä—Ç–∞
- –£–±—Ä–∞—Ç—å useEffect
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å useReducer –¥–ª—è –∞—Ç–æ–º–∞—Ä–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—Å–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

#### 3. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ setState –≤ async —Ñ—É–Ω–∫—Ü–∏—è—Ö
**–ü—Ä–æ–±–ª–µ–º–∞:** –§—É–Ω–∫—Ü–∏—è `handleAddSupplierToPersonal` –æ–±–Ω–æ–≤–ª—è–µ—Ç 3 —Å–æ—Å—Ç–æ—è–Ω–∏—è

**–°—Ü–µ–Ω–∞—Ä–∏–π –ø–æ–ª–æ–º–∫–∏:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç "–î–æ–±–∞–≤–∏—Ç—å –≤ –ª–∏—á–Ω—ã–π —Å–ø–∏—Å–æ–∫"
2. –§—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è: setLoading(true)
3. –î–µ–ª–∞–µ—Ç—Å—è fetch –∑–∞–ø—Ä–æ—Å (3 —Å–µ–∫—É–Ω–¥—ã)
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É
5. Fetch –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è, –Ω–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞
6. React Warning: "Can't perform a React state update on an unmounted component"

**–ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AbortController (—É–∂–µ –µ—Å—Ç—å!)
- –î–æ–±–∞–≤–∏—Ç—å cleanup –≤ useEffect
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å isMounted –ø–µ—Ä–µ–¥ setState

### ‚ö†Ô∏è –°–†–ï–î–ù–ò–ï –†–ò–°–ö–ò

#### 4. localStorage sync –∫–æ—Ä–∑–∏–Ω—ã
**–ü—Ä–æ–±–ª–µ–º–∞:** 2 useEffect —Å–ª–µ–¥—è—Ç –∑–∞ –∫–æ—Ä–∑–∏–Ω–æ–π

```typescript
// useEffect 1: –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ localStorage
useEffect(() => {
  const saved = localStorage.getItem('catalog_cart')
  if (saved) setCart(JSON.parse(saved))
  setCartLoaded(true)
}, [])

// useEffect 2: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
useEffect(() => {
  if (cartLoaded) {
    localStorage.setItem('catalog_cart', JSON.stringify(cart))
  }
}, [cart, cartLoaded])
```

**–ü—Ä–æ–±–ª–µ–º–∞:** 
- –ü—Ä–∏ –ø–µ—Ä–≤–æ–º —Ä–µ–Ω–¥–µ—Ä–µ useEffect 2 —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –†–ê–ù–¨–®–ï useEffect 1
- –ü–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç localStorage –ø—É—Å—Ç—ã–º –º–∞—Å—Å–∏–≤–æ–º
- –ó–∞—Ç–µ–º useEffect 1 –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ (–Ω–æ —É–∂–µ –ø–æ–∑–¥–Ω–æ!)

**–†–µ—à–µ–Ω–∏–µ:**
–§–ª–∞–≥ `cartLoaded` –∑–∞—â–∏—â–∞–µ—Ç, –Ω–æ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `useLayoutEffect` –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏.

#### 5. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
**–ü—Ä–æ–±–ª–µ–º–∞:** –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è –Ω–∞ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ

```typescript
const filteredSuppliers = currentSuppliers.filter(supplier => {
  // –ü–æ–∏—Å–∫ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø–æ–ª—è–º
  // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
})
```

**–†–∏—Å–∫:** Performance –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ (1000+)

**–†–µ—à–µ–Ω–∏–µ:** 
```typescript
const filteredSuppliers = useMemo(() => 
  currentSuppliers.filter(...),
  [currentSuppliers, searchQuery, selectedCategoryFilter]
)
```

### ‚ö° –ù–ò–ó–ö–ò–ï –†–ò–°–ö–ò

#### 6. –ü–æ—Ç–µ—Ä—è —Ñ–æ–∫—É—Å–∞ –ø—Ä–∏ –±—ã—Å—Ç—Ä–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—ã—Å—Ç—Ä–æ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –º–µ–∂–¥—É –∫–æ–º–Ω–∞—Ç–∞–º–∏, –º–æ–∂–µ—Ç –ø–æ—Ç–µ—Ä—è—Ç—å—Å—è –≤—ã–±—Ä–∞–Ω–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è.

**–†–µ—à–µ–Ω–∏–µ:** –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ `setSelectedCategoryData(null)` –ø—Ä–∏ —Å–º–µ–Ω–µ –∫–æ–º–Ω–∞—Ç—ã.

#### 7. Memory leaks –æ—Ç –Ω–µ–∑–∞–∫—Ä—ã—Ç—ã—Ö modals
–ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –º–æ–≥—É—Ç –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –≤ DOM –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `<AnimatePresence>` –æ—Ç Framer Motion –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ unmount.

---

## 8. –°–ö–†–´–¢–´–ï –°–í–Ø–ó–ò (–ß–¢–û –ú–û–ñ–ï–¢ –°–õ–û–ú–ê–¢–¨–°–Ø)

### –°–≤—è–∑—å 1: –§–æ—Ä–º–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ ‚Üî –≠—Ö–æ –∫–∞—Ä—Ç–æ—á–∫–∏
```typescript
// –≠—Ç–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–≤—è–∑–∞–Ω—ã —á–µ—Ä–µ–∑ useEffect:
const [echoCardForImport, setEchoCardForImport] = useState<any>(null)
const [supplierFormData, setSupplierFormData] = useState({ /* ... */ })
const [showAddSupplierModal, setShowAddSupplierModal] = useState(false)

// –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ echoCardForImport:
useEffect(() => {
  if (echoCardForImport && showAddSupplierModal) {
    setSupplierFormData(/* —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ */)
  }
}, [echoCardForImport, showAddSupplierModal])
```

**–ï—Å–ª–∏ –≤—ã–Ω–µ—Å—Ç–∏ —Ñ–æ—Ä–º—É –≤ Context, –Ω—É–∂–Ω–æ:**
1. –ü–µ—Ä–µ–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `importEchoCard` –≤ EchoCardsModal
2. –í—ã–∑—ã–≤–∞—Ç—å –µ–µ —è–≤–Ω–æ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ "–î–û–ó–ê–ü–û–õ–ù–ò–¢–¨"
3. –£–±—Ä–∞—Ç—å useEffect

### –°–≤—è–∑—å 2: –ö–æ–º–Ω–∞—Ç—ã ‚Üî –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
```typescript
// –ü—Ä–∏ —Å–º–µ–Ω–µ –∫–æ–º–Ω–∞—Ç—ã —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:
onClick={() => {
  setSelectedRoom('orange')
  setSelectedCategoryData(null) // ‚Üê —Å–≤—è–∑–∞–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
}}
```

**–ï—Å–ª–∏ –≤—ã–Ω–µ—Å—Ç–∏ –≤ hook, –Ω—É–∂–Ω–æ:**
```typescript
const { selectedRoom, setRoom } = useRoom({
  onRoomChange: () => {
    setSelectedCategoryData(null) // callback
  }
})
```

### –°–≤—è–∑—å 3: –ö–æ—Ä–∑–∏–Ω–∞ ‚Üî –ê–∫—Ç–∏–≤–Ω—ã–π –ø–æ—Å—Ç–∞–≤—â–∏–∫
```typescript
const [cart, setCart] = useState<any[]>([])
const [activeSupplier, setActiveSupplier] = useState<string | null>(null)

const addToCart = (product: any) => {
  // –ü—Ä–æ–≤–µ—Ä–∫–∞: —Ç–æ–≤–∞—Ä –æ—Ç —Ç–æ–≥–æ –∂–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞?
  if (activeSupplier && activeSupplier !== product.supplier_name) {
    // –°–±—Ä–æ—Å–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É –∏–ª–∏ –ø–æ–∫–∞–∑–∞—Ç—å warning
  }
}
```

**–ü—Ä–∏ –≤—ã–Ω–æ—Å–µ –≤ hook –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —ç—Ç—É –ª–æ–≥–∏–∫—É!**

### –°–≤—è–∑—å 4: URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ‚Üî –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
```typescript
// URL –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –¢–û–õ–¨–ö–û –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π:
useEffect(() => {
  const params = new URLSearchParams(window.location.search)
  
  const checkAndSelectCategory = setInterval(() => {
    if (apiCategories.length > 0) { // ‚Üê –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
      // –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å URL
    }
  }, 100)
}, [apiCategories])
```

**–ü—Ä–∏ –≤—ã–Ω–æ—Å–µ –Ω—É–∂–Ω–æ:**
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —á—Ç–æ categories –∑–∞–≥—Ä—É–∂–µ–Ω—ã
- –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–ª—É—á–∞–π –∫–æ–≥–¥–∞ categories –ø—É—Å—Ç—ã–µ (fallback)
- –£–±—Ä–∞—Ç—å setInterval (anti-pattern)

---

## 9. –û–¶–ï–ù–ö–ê –í–†–ï–ú–ï–ù–ò –ò –°–õ–û–ñ–ù–û–°–¢–ò

### –¢–∞–±–ª–∏—Ü–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ —Ñ–∞–∑:

| –§–∞–∑–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –†–∏—Å–∫ | –í—Ä–µ–º—è | –ù–∞–≤—ã–∫–∏ | –ú–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ? |
|------|----------|------|-------|--------|--------------------------|
| 1 | –¢–∏–ø—ã, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, —É—Ç–∏–ª–∏—Ç—ã | 0% | 1 —á–∞—Å | Junior | ‚úÖ –î–∞ |
| 2 | –°–µ—Ä–≤–∏—Å—ã API | 15% | 2 —á–∞—Å–∞ | Middle | ‚úÖ –î–∞ |
| 3 | –•—É–∫–∏ (cart, suppliers) | 20% | 3 —á–∞—Å–∞ | Middle | ‚úÖ –î–∞ |
| 4 | –§–æ—Ä–º–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ | 50% | 6 —á–∞—Å–æ–≤ | Senior | ‚ö†Ô∏è –û—Å—Ç–æ—Ä–æ–∂–Ω–æ |
| 5 | –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ | 30% | 4 —á–∞—Å–∞ | Middle | ‚úÖ –î–∞ |
| 6 | URL –Ω–∞–≤–∏–≥–∞—Ü–∏—è | 60% | 4 —á–∞—Å–∞ | Senior | ‚ùå –ù–µ—Ç |
| 7 | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è | 10% | 2 —á–∞—Å–∞ | Middle | ‚úÖ –î–∞ |

**–ò–¢–û–ì–û:** 22 —á–∞—Å–∞ (3 —Ä–∞–±–æ—á–∏—Ö –¥–Ω—è)

### –ù–∞–≤—ã–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ:

**Junior —É—Ä–æ–≤–µ–Ω—å:**
- TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
- –í—ã–Ω–æ—Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç
- –ü—Ä–æ—Å—Ç—ã–µ —É—Ç–∏–ª–∏—Ç—ã

**Middle —É—Ä–æ–≤–µ–Ω—å:**
- React hooks
- Context API
- Async/await
- localStorage
- API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- Code splitting

**Senior —É—Ä–æ–≤–µ–Ω—å:**
- useReducer + Context –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ñ–æ—Ä–º
- Race conditions –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏–µ
- Performance –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
- –ú–∏–≥—Ä–∞—Ü–∏—è –±–µ–∑ breaking changes

---

## 10. –°–¢–†–ê–¢–ï–ì–ò–Ø –í–´–ü–û–õ–ù–ï–ù–ò–Ø

### –í–∞—Ä–∏–∞–Ω—Ç A: –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è (3 –¥–Ω—è)
**–ö–æ–≥–¥–∞:** –ï—Å—Ç—å 3 –ø–æ–ª–Ω—ã—Ö –¥–Ω—è, –º–æ–∂–Ω–æ —Ä–∏—Å–∫–Ω—É—Ç—å

**–î–µ–Ω—å 1:**
- –§–∞–∑–∞ 1: –¢–∏–ø—ã, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, —É—Ç–∏–ª–∏—Ç—ã (1 —á–∞—Å)
- –§–∞–∑–∞ 2: –°–µ—Ä–≤–∏—Å—ã API (2 —á–∞—Å–∞)
- –§–∞–∑–∞ 3: –•—É–∫–∏ (3 —á–∞—Å–∞)
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (1 —á–∞—Å)

**–î–µ–Ω—å 2:**
- –§–∞–∑–∞ 4: –§–æ—Ä–º–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (6 —á–∞—Å–æ–≤)
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (1 —á–∞—Å)

**–î–µ–Ω—å 3:**
- –§–∞–∑–∞ 5: –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ (4 —á–∞—Å–∞)
- –§–∞–∑–∞ 6: URL –Ω–∞–≤–∏–≥–∞—Ü–∏—è (4 —á–∞—Å–∞)
- –§–∞–∑–∞ 7: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (2 —á–∞—Å–∞)
- –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (1 —á–∞—Å)

**–†–∏—Å–∫:** 40%
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** page.tsx ~400 —Å—Ç—Ä–æ–∫

### –í–∞—Ä–∏–∞–Ω—Ç B: –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–∞—è –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è (2 –Ω–µ–¥–µ–ª–∏)
**–ö–æ–≥–¥–∞:** –ù–µ–ª—å–∑—è —Ä–∏—Å–∫–æ–≤–∞—Ç—å, –µ—Å—Ç—å production

**–ù–µ–¥–µ–ª—è 1:**
- –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫: –§–∞–∑–∞ 1 (—Ç–∏–ø—ã, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã)
- –í—Ç–æ—Ä–Ω–∏–∫: –§–∞–∑–∞ 2 (—Å–µ—Ä–≤–∏—Å—ã API)
- –°—Ä–µ–¥–∞: –§–∞–∑–∞ 3 (—Ö—É–∫–∏ cart, suppliers)
- –ß–µ—Ç–≤–µ—Ä–≥: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –±–∞–≥—Ñ–∏–∫—Å—ã
- –ü—è—Ç–Ω–∏—Ü–∞: Code review, –¥–µ–ø–ª–æ–π

**–ù–µ–¥–µ–ª—è 2:**
- –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫: –§–∞–∑–∞ 5 (–º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞)
- –í—Ç–æ—Ä–Ω–∏–∫: –§–∞–∑–∞ 7 (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
- –°—Ä–µ–¥–∞: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ß–µ—Ç–≤–µ—Ä–≥: –§–∞–∑–∞ 4 (—Ñ–æ—Ä–º–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞) - –ø–æ–ª–æ–≤–∏–Ω–∞
- –ü—è—Ç–Ω–∏—Ü–∞: –§–∞–∑–∞ 4 (—Ñ–æ—Ä–º–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞) - –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ

**–†–∏—Å–∫:** 10%
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** page.tsx ~800 —Å—Ç—Ä–æ–∫ (–Ω–æ —á–∏—â–µ!)

### –í–∞—Ä–∏–∞–Ω—Ç C: –ì–∏–±—Ä–∏–¥–Ω—ã–π (1 –Ω–µ–¥–µ–ª—è)
**–ö–æ–≥–¥–∞:** –ó–æ–ª–æ—Ç–∞—è —Å–µ—Ä–µ–¥–∏–Ω–∞

**–≠—Ç–∞–ø—ã:**
1. –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –º–æ–¥—É–ª–∏ (–§–∞–∑—ã 1-3) - 2 –¥–Ω—è
2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è - 1 –¥–µ–Ω—å
3. –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ (–§–∞–∑–∞ 5) - 1 –¥–µ–Ω—å
4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (–§–∞–∑–∞ 7) - 1 –¥–µ–Ω—å

**–ù–ï –¢–†–û–ì–ê–ï–ú:**
- –§–æ—Ä–º—É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (–§–∞–∑–∞ 4) - –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å
- URL –Ω–∞–≤–∏–≥–∞—Ü–∏—é (–§–∞–∑–∞ 6) - –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å

**–†–∏—Å–∫:** 15%
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** page.tsx ~1200 —Å—Ç—Ä–æ–∫ (–Ω–æ –º–æ–¥—É–ª—å–Ω–æ!)

---

## 11. –ß–ï–ö–õ–ò–°–¢ –ü–ï–†–ï–î –ù–ê–ß–ê–õ–û–ú

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞:
- [ ] –°–æ–∑–¥–∞—Ç—å feature branch: `git checkout -b refactor/catalog-decomposition`
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –µ—Å—Ç—å backup: `git commit -m "checkpoint: before decomposition"`
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å TypeScript strict mode (–µ—Å–ª–∏ –Ω–µ—Ç)
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –µ—Å—Ç—å ESLint
- [ ] –ü—Ä–æ—á–∏—Ç–∞—Ç—å —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é

### –ü–µ—Ä–µ–¥ –∫–∞–∂–¥–æ–π —Ñ–∞–∑–æ–π:
- [ ] –°–æ–∑–¥–∞—Ç—å checkpoint commit
- [ ] –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã (–µ—Å–ª–∏ –µ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ)
- [ ] –ü–æ–Ω—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–æ–¥—É–ª—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ `npm run build` –ø—Ä–æ—Ö–æ–¥–∏—Ç

### –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã:
- [ ] `npm run build` - –∫–æ–º–ø–∏–ª—è—Ü–∏—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] `npm run dev` - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- [ ] –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- [ ] Commit –∏–∑–º–µ–Ω–µ–Ω–∏–π: `git commit -m "refactor: phase X completed"`

### –ü–µ—Ä–µ–¥ merge –≤ main:
- [ ] –í—Å–µ —Ñ–∞–∑—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] Code review –ø—Ä–æ–π–¥–µ–Ω
- [ ] Production –±–∏–ª–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Performance –Ω–µ —É—Ö—É–¥—à–∏–ª—Å—è

---

## 12. –ü–õ–ê–ù –ë (–û–¢–ö–ê–¢)

### –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å:

**–£—Ä–æ–≤–µ–Ω—å 1: –ú–µ–ª–∫–∞—è –æ—à–∏–±–∫–∞**
```bash
# –û—Ç–∫–∞—Ç–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç
git reset --soft HEAD~1
# –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É
# –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –∫–æ–º–º–∏—Ç
```

**–£—Ä–æ–≤–µ–Ω—å 2: –§–∞–∑–∞ –ø—Ä–æ–≤–∞–ª–∏–ª–∞—Å—å**
```bash
# –û—Ç–∫–∞—Ç–∏—Ç—å –≤—Å–µ –∫–æ–º–º–∏—Ç—ã —Ñ–∞–∑—ã
git reset --hard <commit_before_phase>
# –ò–ª–∏
git revert <commit1> <commit2> <commit3>
```

**–£—Ä–æ–≤–µ–Ω—å 3: –í—Å—ë —Å–ª–æ–º–∞–ª–æ—Å—å**
```bash
# –ü–æ–ª–Ω—ã–π –æ—Ç–∫–∞—Ç –∫ –Ω–∞—á–∞–ª—É
git checkout main
git branch -D refactor/catalog-decomposition
# –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ —Å –º–µ–Ω—å—à–∏–º scope
```

---

## 13. –§–ò–ù–ê–õ–¨–ù–´–ï –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### ‚úÖ –î–ï–õ–ê–¢–¨:
1. **–ù–∞—á–∞—Ç—å —Å –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π** (–§–∞–∑—ã 1-3)
2. **–ö–æ–º–º–∏—Ç–∏—Ç—å —á–∞—Å—Ç–æ** - –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ —à–∞–≥–∞
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è**
4. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å TypeScript strict mode**
5. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è** –≤ CHANGELOG.md
6. **–î–µ–ª–∞—Ç—å code review** –ø–µ—Ä–µ–¥ merge
7. **–ò–∑–º–µ—Ä—è—Ç—å performance** –¥–æ –∏ –ø–æ—Å–ª–µ

### ‚ùå –ù–ï –î–ï–õ–ê–¢–¨:
1. **–ú–µ–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—â–µ–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ**
2. **–£–¥–∞–ª—è—Ç—å –∫–æ–¥ –±–µ–∑ backup**
3. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –±–µ–∑ —Ç–µ—Å—Ç–æ–≤**
4. **–ú–µ–Ω—è—Ç—å –ª–æ–≥–∏–∫—É –≤–º–µ—Å—Ç–µ —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π**
5. **–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å TypeScript –æ—à–∏–±–∫–∏**
6. **–ü—Ä–æ–ø—É—Å–∫–∞—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
7. **–î–µ–ª–∞—Ç—å force push –≤ main**

### üéØ –ü–†–ò–û–†–ò–¢–ï–¢–´:

**–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç** (–¥–µ–ª–∞—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):
- –§–∞–∑–∞ 1: –¢–∏–ø—ã –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
- –§–∞–∑–∞ 2: –°–µ—Ä–≤–∏—Å—ã API
- –§–∞–∑–∞ 3: –•—É–∫–∏

**–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç** (–¥–µ–ª–∞—Ç—å –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ):
- –§–∞–∑–∞ 5: –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
- –§–∞–∑–∞ 7: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

**–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç** (–º–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å):
- –§–∞–∑–∞ 4: –§–æ—Ä–º–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–µ —Ç—Ä–æ–≥–∞—Ç—å!)
- –§–∞–∑–∞ 6: URL –Ω–∞–≤–∏–≥–∞—Ü–∏—è (—Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Å—Ç—Ä–∞—à–Ω–æ!)

### üöÄ –ú–ï–¢–†–ò–ö–ò –£–°–ü–ï–•–ê:

–ü–æ—Å–ª–µ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
- ‚úÖ page.tsx < 1000 —Å—Ç—Ä–æ–∫ (—Å–µ–π—á–∞—Å 5436)
- ‚úÖ < 20 useState –≤ page.tsx (—Å–µ–π—á–∞—Å 53)
- ‚úÖ < 5 useEffect –≤ page.tsx (—Å–µ–π—á–∞—Å 10)
- ‚úÖ –ù–µ—Ç inline JSX –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ –í—Å–µ —Ç–∏–ø—ã –≤—ã–Ω–µ—Å–µ–Ω—ã
- ‚úÖ –í—Å–µ API –≤—ã–∑–æ–≤—ã –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö
- ‚úÖ TypeScript strict mode –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ Performance –Ω–µ —Ö—É–∂–µ
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ

---

## 14. –ö–û–ù–¢–†–û–õ–¨–ù–´–ï –¢–û–ß–ö–ò –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã:

#### –ü–æ—Å–ª–µ –§–∞–∑—ã 1-3:
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- [ ] –ü–æ—Å—Ç–∞–≤—â–∏–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- [ ] –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- [ ] –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –§–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–º–Ω–∞—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç

#### –ü–æ—Å–ª–µ –§–∞–∑—ã 4 (—Ñ–æ—Ä–º–∞):
- [ ] –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
- [ ] –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –≤—Å–µ–º 7 —à–∞–≥–∞–º
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ –ª–æ–≥–æ—Ç–∏–ø–∞
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
- [ ] –ò–º–ø–æ—Ä—Ç –∏–∑ —ç—Ö–æ –∫–∞—Ä—Ç–æ—á–∫–∏

#### –ü–æ—Å–ª–µ –§–∞–∑—ã 5 (–º–æ–¥–∞–ª–∫–∏):
- [ ] –û—Ç–∫—Ä—ã—Ç–∏–µ —ç—Ö–æ –∫–∞—Ä—Ç–æ—á–µ–∫
- [ ] –ò–º–ø–æ—Ä—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
- [ ] –û—Ç–∫—Ä—ã—Ç–∏–µ –∫–æ—Ä–∑–∏–Ω—ã
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É
- [ ] –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã

#### –ü–æ—Å–ª–µ –§–∞–∑—ã 6 (URL):
- [ ] –ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—é
- [ ] –ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—é
- [ ] –ü–µ—Ä–µ—Ö–æ–¥ –∏–∑ –ø–æ–∏—Å–∫–∞ –ø–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é
- [ ] –ö–ª–∏–∫ –ø–æ dropdown –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏

---

## –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** 5436 —Å—Ç—Ä–æ–∫ - –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç-–º–æ–Ω—Å—Ç—Ä  
**–¶–µ–ª–µ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** ~400-800 —Å—Ç—Ä–æ–∫ - –º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞  

**–û–±—â–∏–π —Ä–∏—Å–∫ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏:** 35-40% (—Å—Ä–µ–¥–Ω–µ-–≤—ã—Å–æ–∫–∏–π)  
**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è:** –í–∞—Ä–∏–∞–Ω—Ç C (–ì–∏–±—Ä–∏–¥–Ω—ã–π, 1 –Ω–µ–¥–µ–ª—è)  

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ:**
- –ù–ï –º–µ–Ω—è—Ç—å –ª–æ–≥–∏–∫—É, —Ç–æ–ª—å–∫–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –ö–æ–º–º–∏—Ç–∏—Ç—å —á–∞—Å—Ç–æ
- –ò–º–µ—Ç—å –ø–ª–∞–Ω –æ—Ç–∫–∞—Ç–∞

**–ù–∞–≥—Ä–∞–¥–∞:**
- –ß–∏—Å—Ç—ã–π –∫–æ–¥
- –õ–µ–≥–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–æ–¥—É–ª–∏
- –ü—Ä–æ—â–µ –¥–æ–±–∞–≤–ª—è—Ç—å —Ñ–∏—á–∏

–£–¥–∞—á–∏ –≤ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ! üöÄ
